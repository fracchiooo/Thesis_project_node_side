ESP-ROM:esp32s3-20210327
Build:Mar 27 2021
rst:0x1 (POWERON),boot:0x8 (SPI_FAST_FLASH_BOOT)
SPIWP:0xee
mode:DIO, clock div:1
load:0x3fce3810,len:0x178c
load:0x403c9700,len:0x4
load:0x403c9704,len:0xcbc
load:0x403cc700,len:0x2d9c
entry 0x403c9914
[0;32mI (27) boot: ESP-IDF v5.2.2 2nd stage bootloader[0m
[0;32mI (27) boot: compile time Oct 17 2025 19:46:11[0m
[0;32mI (27) boot: Multicore bootloader[0m
[0;32mI (30) boot: chip revision: v0.2[0m
[0;32mI (34) boot.esp32s3: Boot SPI Speed : 80MHz[0m
[0;32mI (38) boot.esp32s3: SPI Mode       : DIO[0m
[0;32mI (43) boot.esp32s3: SPI Flash Size : 2MB[0m
[0;32mI (48) boot: Enabling RNG early entropy source...[0m
[0;32mI (53) boot: Partition Table:[0m
[0;32mI (57) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (64) boot:  0 nvs              WiFi data        01 02 00009000 00006000[0m
[0;32mI (72) boot:  1 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (79) boot:  2 factory          factory app      00 00 00010000 00177000[0m
[0;32mI (87) boot: End of partition table[0m
[0;32mI (91) esp_image: segment 0: paddr=00010020 vaddr=3c0c0020 size=35678h (218744) map[0m
[0;32mI (138) esp_image: segment 1: paddr=000456a0 vaddr=3fc9b300 size=04880h ( 18560) load[0m
[0;32mI (143) esp_image: segment 2: paddr=00049f28 vaddr=40374000 size=060f0h ( 24816) load[0m
[0;32mI (150) esp_image: segment 3: paddr=00050020 vaddr=42000020 size=b6064h (745572) map[0m
[0;32mI (286) esp_image: segment 4: paddr=0010608c vaddr=4037a0f0 size=1116ch ( 69996) load[0m
[0;32mI (311) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (312) boot: Disabling RNG early entropy source...[0m
[0;32mI (323) cpu_start: Multicore app[0m
[0;32mI (333) cpu_start: Pro cpu start user code[0m
[0;32mI (333) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (333) cpu_start: Application information:[0m
[0;32mI (336) cpu_start: Project name:     esp_node[0m
[0;32mI (341) cpu_start: App version:      5129bb6-dirty[0m
[0;32mI (346) cpu_start: Compile time:     Oct 17 2025 19:46:08[0m
[0;32mI (352) cpu_start: ELF file SHA256:  06217d05f...[0m
[0;32mI (358) cpu_start: ESP-IDF:          v5.2.2[0m
[0;32mI (363) cpu_start: Min chip rev:     v0.0[0m
[0;32mI (367) cpu_start: Max chip rev:     v0.99 [0m
[0;32mI (372) cpu_start: Chip rev:         v0.2[0m
[0;32mI (377) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (384) heap_init: At 3FCA3D90 len 00045980 (278 KiB): RAM[0m
[0;32mI (390) heap_init: At 3FCE9710 len 00005724 (21 KiB): RAM[0m
[0;32mI (396) heap_init: At 3FCF0000 len 00008000 (32 KiB): DRAM[0m
[0;32mI (402) heap_init: At 600FE010 len 00001FD8 (7 KiB): RTCRAM[0m
[0;32mI (410) spi_flash: detected chip: gd[0m
[0;32mI (413) spi_flash: flash io: dio[0m
[0;33mW (417) spi_flash: Detected size(8192k) larger than the size in the binary image header(2048k). Using the size in the binary image header.[0m
[0;32mI (431) sleep: Configure to isolate all GPIO pins in sleep state[0m
[0;32mI (437) sleep: Enable automatic switching of GPIO sleep configuration[0m
[0;32mI (444) main_task: Started on CPU0[0m
[0;32mI (454) main_task: Calling app_main()[0m
[0;32mI (454) PWM: Risoluzione ottimale calcolata: 8 bit per frequenza 40000 Hz[0m
[0;32mI (464) PWM: PWM inizializzato: GPIO 2, Freq 40000 Hz, Risoluzione 8 bit (256 livelli)[0m
[0;32mI (474) PWM: Risoluzione ottimale calcolata: 8 bit per frequenza 40000 Hz[0m
[0;32mI (474) PWM: PWM inizializzato: GPIO 3, Freq 40000 Hz, Risoluzione 8 bit (256 livelli)[0m
[0;32mI (484) PWM: Risoluzione ottimale calcolata: 8 bit per frequenza 40000 Hz[0m
[0;32mI (494) PWM: PWM inizializzato: GPIO 4, Freq 40000 Hz, Risoluzione 8 bit (256 livelli)[0m
[0;32mI (504) PWM: Risoluzione ottimale calcolata: 8 bit per frequenza 40000 Hz[0m
[0;32mI (504) PWM: PWM inizializzato: GPIO 1, Freq 40000 Hz, Risoluzione 8 bit (256 livelli)[0m
[0;32mI (514) PWM: Cambio frequenza: 40000 -> 1300 Hz, risoluzione: 8 -> 13 bit[0m
[0;32mI (524) PWM: Timer riconfigurato: 1300 Hz, 13 bit (8192 livelli)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (534) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (544) PWM: Cambio frequenza: 40000 -> 1300 Hz, risoluzione: 8 -> 13 bit[0m
[0;32mI (554) PWM: Timer riconfigurato: 1300 Hz, 13 bit (8192 livelli)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (564) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (564) gpio: GPIO[26]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:0 [0m
[0;32mI (574) gpio: GPIO[26]| InputEn: 1| OutputEn: 1| OpenDrain: 1| Pullup: 1| Pulldown: 0| Intr:0 [0m
[0;32mI (584) Temperature sensor: Bus inizializzato su GPIO 26[0m
[0;32mI (704) Temperature sensor: Slot 0: BA00000046755428[0m
[0;32mI (704) Temperature sensor: Trovati 1 nuovi (totale 1)[0m
[0;32mI (704) MAIN: Inizializzati 1 sensori[0m
[0;32mI (734) wifi: ESP_WIFI_MODE_STA[0m
[0;32mI (734) pp: pp rom version: e7ae62f[0m
[0;32mI (734) net80211: net80211 rom version: e7ae62f[0m
[0;32mI (744) wifi:wifi driver task: 3fcb15d8, prio:23, stack:6656, core=0[0m
[0;32mI (754) wifi:wifi firmware version: 3e0076f[0m
[0;32mI (754) wifi:wifi certification version: v7.0[0m
[0;32mI (754) wifi:config NVS flash: enabled[0m
[0;32mI (754) wifi:config nano formating: disabled[0m
[0;32mI (764) wifi:Init data frame dynamic rx buffer num: 32[0m
[0;32mI (764) wifi:Init static rx mgmt buffer num: 5[0m
[0;32mI (764) wifi:Init management short buffer num: 32[0m
[0;32mI (774) wifi:Init dynamic tx buffer num: 32[0m
[0;32mI (774) wifi:Init static tx FG buffer num: 2[0m
[0;32mI (784) wifi:Init static rx buffer size: 1600[0m
[0;32mI (784) wifi:Init static rx buffer num: 10[0m
[0;32mI (794) wifi:Init dynamic rx buffer num: 32[0m
[0;32mI (794) wifi_init: rx ba win: 6[0m
[0;32mI (794) wifi_init: tcpip mbox: 32[0m
[0;32mI (804) wifi_init: udp mbox: 6[0m
[0;32mI (804) wifi_init: tcp mbox: 6[0m
[0;32mI (804) wifi_init: tcp tx win: 5760[0m
[0;32mI (814) wifi_init: tcp rx win: 5760[0m
[0;32mI (814) wifi_init: tcp mss: 1440[0m
[0;32mI (824) wifi_init: WiFi IRAM OP enabled[0m
[0;32mI (824) wifi_init: WiFi RX IRAM OP enabled[0m
[0;32mI (834) phy_init: phy_version 670,b7bc9b9,Apr 30 2024,10:54:13[0m
[0;32mI (884) wifi:mode : sta (34:b7:da:54:35:28)[0m
[0;32mI (884) wifi:enable tsf[0m
[0;32mI (884) wifi: wifi_init_sta finished.[0m
[0;32mI (914) wifi:new:<1,0>, old:<1,0>, ap:<255,255>, sta:<1,0>, prof:1[0m
[0;32mI (914) wifi:state: init -> auth (b0)[0m
[0;32mI (954) wifi:state: auth -> assoc (0)[0m
[0;32mI (1014) wifi:state: assoc -> run (10)[0m
[0;32mI (1034) wifi:connected with Oneplus, aid = 1, channel 1, BW20, bssid = ba:7e:6d:57:2c:9d[0m
[0;32mI (1034) wifi:security: WPA2-PSK, phy: bgn, rssi: -65[0m
[0;32mI (1044) wifi:pm start, type: 1[0m

[0;32mI (1044) wifi:dp: 1, bi: 102400, li: 3, scale listen interval from 307200 us to 307200 us[0m
[0;32mI (1044) wifi:set rx beacon pti, rx_bcn_pti: 0, bcn_timeout: 25000, mt_pti: 0, mt_time: 10000[0m
[0;32mI (1124) wifi:dp: 2, bi: 102400, li: 4, scale listen interval from 307200 us to 409600 us[0m
[0;32mI (1124) wifi:AP's beacon interval = 102400 us, DTIM period = 2[0m
[0;32mI (1574) wifi:<ba-add>idx:0 (ifx:0, ba:7e:6d:57:2c:9d), tid:0, ssn:0, winSize:64[0m
[0;32mI (3054) esp_netif_handlers: sta ip: 10.121.56.118, mask: 255.255.255.0, gw: 10.121.56.100[0m
[0;32mI (3054) wifi: got ip:10.121.56.118[0m
[0;32mI (3054) wifi: connected to ap SSID:Oneplus password:123456789[0m
[0;32mI (3064) MAIN: WIFI connected![0m
[0;32mI (3064) mqtts: MqttWrapper created with client_id: 34B7DA543528[0m
[0;32mI (3074) mqtts: [APP] Free memory: 262592 bytes[0m
[0;32mI (3074) mqtts: Other event id:7[0m
[0;32mI (5014) mqtts: MQTT_EVENT_CONNECTED[0m
[0;32mI (5024) mqtts: Subscribed to 34B7DA543528/downlink, msg_id=43293[0m
[0;32mI (5084) MAIN: MQTT connected! System running in background...[0m
[0;32mI (5084) MAIN: Initializing SNTP[0m
[0;32mI (5084) MAIN: Waiting for time sync... (1/20)[0m
[0;32mI (5224) mqtts: MQTT_EVENT_SUBSCRIBED, msg_id=43293[0m
[0;32mI (6084) MAIN: Waiting for time sync... (2/20)[0m
[0;32mI (7084) MAIN: Waiting for time sync... (3/20)[0m
[0;32mI (8084) MAIN: Time synchronized: Sat Oct 18 11:10:00 2025
[0m
[0;32mI (8084) FFT: sampling rate too high, the maximum sampling rate will be used: 83333[0m
[0;32mI (8084) gpio: GPIO[7]| InputEn: 0| OutputEn: 0| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0 [0m
[0;32mI (8204) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (9014) Temperature sensor: Slot 0: 20.62 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |    4964.17 Hz |   44.0000 |   61
   2 |    5045.55 Hz |   41.0000 |   62
   3 |    5126.93 Hz |   26.0000 |   63
   4 |    5208.31 Hz |   20.0000 |   64
   5 |    5289.69 Hz |    4.0000 |   65
   6 |   29215.38 Hz |    0.0000 |  359
   7 |   30191.94 Hz |    0.0000 |  371
   8 |   29296.76 Hz |    0.0000 |  360
   9 |   29378.14 Hz |    0.0000 |  361
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29540.90 Hz |    0.0000 |  363
  12 |   29622.28 Hz |    0.0000 |  364
  13 |   29703.66 Hz |    0.0000 |  365
  14 |   29785.04 Hz |    0.0000 |  366
  15 |   29866.42 Hz |    0.0000 |  367


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 18961.51 Hz (bin 233)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 2.41

Band 40kHz (37-42 kHz):
  Peak: 38167.16 Hz (bin 469)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.63

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.36 (-8.9 dB)
SNR 40kHz band: 0.54 (-5.4 dB)

Signal detected at 20kHz: NO (SNR=0.36, Peak/Avg=2.41, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.54, Peak/Avg=1.63, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (9144) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=63115[0m
[0;32mI (9154) MAIN: MQTT message sent![0m
[0;32mI (9524) mqtts: MQTT_EVENT_PUBLISHED, msg_id=63115[0m
[0;32mI (19254) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (20074) Temperature sensor: Slot 0: 20.62 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 20914.63 Hz (bin 257)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.71

Band 40kHz (37-42 kHz):
  Peak: 38167.16 Hz (bin 469)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 3.87

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.15 (-16.6 dB)
SNR 40kHz band: 0.18 (-15.0 dB)

Signal detected at 20kHz: NO (SNR=0.15, Peak/Avg=1.71, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.18, Peak/Avg=3.87, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (20204) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=57672[0m
[0;32mI (20214) MAIN: MQTT message sent![0m
[0;32mI (20784) mqtts: MQTT_EVENT_PUBLISHED, msg_id=57672[0m
[0;32mI (30314) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (31134) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 20914.63 Hz (bin 257)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.74

Band 40kHz (37-42 kHz):
  Peak: 38167.16 Hz (bin 469)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 3.54

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.22 (-13.2 dB)
SNR 40kHz band: 0.23 (-13.0 dB)

Signal detected at 20kHz: NO (SNR=0.22, Peak/Avg=1.74, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.23, Peak/Avg=3.54, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (31264) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=4034[0m
[0;32mI (31274) MAIN: MQTT message sent![0m
[0;32mI (32254) mqtts: MQTT_EVENT_PUBLISHED, msg_id=4034[0m
[0;32mI (37174) mqtts: MQTT_EVENT_DATA[0m
TOPIC=34B7DA543528/downlink
DATA={"frequency":20.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}
[0;32mI (37174) MAIN: === Message received in MAIN ===[0m
[0;32mI (37184) MAIN: Topic: 34B7DA543528/downlink[0m
[0;32mI (37184) MAIN: Data: {"frequency":20.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}[0m
[0;32mI (37204) MAIN: Start timestamp is 0 or past, executing immediately[0m
[0;32mI (37204) MAIN: Timer triggered! Executing scheduled action...[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (37214) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (37234) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
[0;32mI (37234) PWM: Cambio frequenza: 40000 -> 21700 Hz, risoluzione: 8 -> 9 bit[0m
[0;32mI (37244) PWM: Timer riconfigurato: 21700 Hz, 9 bit (512 livelli)[0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (37254) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 256 / 512 (risoluzione: 9 bit)
[0;32mI (37264) PWM: Hardware PWM duty: 50.00% richiesto -> 50.10% effettivo (256/512)[0m
Imposto duty: 8191 / 8192 (risoluzione: 13 bit)
[0;32mI (37284) PWM: Hardware PWM duty: 100.00% richiesto -> 100.00% effettivo (8191/8192)[0m
[0;32mI (37284) MAIN: Expiry timer set for 0.13 hours (total 467 seconds from now)[0m
[0;32mI (37294) MAIN: status updated and timer started[0m
[0;32mI (41374) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (42194) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   29866.42 Hz |  232.0000 |  367
   2 |   13590.44 Hz |  213.0000 |  167
   3 |   14973.90 Hz |  212.0000 |  184
   4 |   25309.14 Hz |  211.0000 |  311
   5 |   31575.39 Hz |  211.0000 |  388
   6 |   10904.90 Hz |  206.0000 |  134
   7 |   32063.67 Hz |  206.0000 |  394
   8 |   27994.68 Hz |  206.0000 |  344
   9 |   13915.96 Hz |  206.0000 |  171
  10 |   33935.41 Hz |  205.0000 |  417
  11 |   17171.16 Hz |  204.0000 |  211
  12 |   32389.19 Hz |  204.0000 |  398
  13 |   37841.64 Hz |  204.0000 |  465
  14 |   23437.41 Hz |  204.0000 |  288
  15 |   30517.46 Hz |  204.0000 |  375


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 38.56
  Band average: 1.88
  Peak/Average ratio: 20.52

Band 40kHz (37-42 kHz):
  Peak: 38248.55 Hz (bin 470)
  Peak magnitude: 1.82
  Band average: 0.46
  Peak/Average ratio: 3.94

Noise baseline (5-15 kHz):
  Average: 0.41
  Max: 3.60

=== DECISION LOGIC ===
SNR 20kHz band: 94.46 (39.5 dB)
SNR 40kHz band: 4.45 (13.0 dB)

Signal detected at 20kHz: YES (SNR=94.46, Peak/Avg=20.52, Mag=38.56)
Signal detected at 40kHz: YES (SNR=4.45, Peak/Avg=3.94, Mag=1.82)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (42334) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=30136[0m
[0;32mI (42334) MAIN: MQTT message sent![0m
[0;32mI (42494) mqtts: MQTT_EVENT_PUBLISHED, msg_id=30136[0m
[0;32mI (52434) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (53254) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   14648.38 Hz |  526.0000 |  180
   2 |   33447.13 Hz |  514.0000 |  411
   3 |    5289.69 Hz |  484.0000 |   65
   4 |    5371.07 Hz |  480.0000 |   66
   5 |   35644.39 Hz |  468.0000 |  438
   6 |   20996.01 Hz |  466.0000 |  258
   7 |   38167.16 Hz |  466.0000 |  469
   8 |   29378.14 Hz |  466.0000 |  361
   9 |   39225.10 Hz |  465.0000 |  482
  10 |   20751.87 Hz |  465.0000 |  255
  11 |    8382.13 Hz |  465.0000 |  103
  12 |   30761.60 Hz |  465.0000 |  378
  13 |   27180.88 Hz |  465.0000 |  334
  14 |   37027.85 Hz |  464.0000 |  455
  15 |   32958.85 Hz |  464.0000 |  405


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 85.93
  Band average: 4.13
  Peak/Average ratio: 20.80

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 3.67
  Band average: 0.98
  Peak/Average ratio: 3.73

Noise baseline (5-15 kHz):
  Average: 0.94
  Max: 7.84

=== DECISION LOGIC ===
SNR 20kHz band: 90.95 (39.2 dB)
SNR 40kHz band: 3.88 (11.8 dB)

Signal detected at 20kHz: YES (SNR=90.95, Peak/Avg=20.80, Mag=85.93)
Signal detected at 40kHz: YES (SNR=3.88, Peak/Avg=3.73, Mag=3.67)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (53404) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=8992[0m
[0;32mI (53404) MAIN: MQTT message sent![0m
[0;32mI (53764) mqtts: MQTT_EVENT_PUBLISHED, msg_id=8992[0m
[0;32mI (63504) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (64324) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |    6184.87 Hz |  545.0000 |   76
   2 |   39387.86 Hz |  497.0000 |  484
   3 |   24983.62 Hz |  473.0000 |  307
   4 |   22786.37 Hz |  470.0000 |  280
   5 |    8219.37 Hz |  466.0000 |  101
   6 |    8382.13 Hz |  466.0000 |  103
   7 |   31249.88 Hz |  465.0000 |  384
   8 |   37027.85 Hz |  461.0000 |  455
   9 |   27180.88 Hz |  461.0000 |  334
  10 |   24820.86 Hz |  461.0000 |  305
  11 |    5696.59 Hz |  460.0000 |   70
  12 |   19042.89 Hz |  458.0000 |  234
  13 |   18229.09 Hz |  458.0000 |  224
  14 |   14648.38 Hz |  457.0000 |  180
  15 |   39713.38 Hz |  457.0000 |  488


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 85.83
  Band average: 4.12
  Peak/Average ratio: 20.84

Band 40kHz (37-42 kHz):
  Peak: 38004.41 Hz (bin 467)
  Peak magnitude: 4.04
  Band average: 1.01
  Peak/Average ratio: 4.00

Noise baseline (5-15 kHz):
  Average: 0.89
  Max: 6.93

=== DECISION LOGIC ===
SNR 20kHz band: 96.49 (39.7 dB)
SNR 40kHz band: 4.54 (13.1 dB)

Signal detected at 20kHz: YES (SNR=96.49, Peak/Avg=20.84, Mag=85.83)
Signal detected at 40kHz: YES (SNR=4.54, Peak/Avg=4.00, Mag=4.04)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (64454) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=13265[0m
[0;32mI (64454) MAIN: MQTT message sent![0m
[0;32mI (65024) mqtts: MQTT_EVENT_PUBLISHED, msg_id=13265[0m
[0;32mI (74554) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (75374) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |    8300.75 Hz |  575.0000 |  102
   2 |   34423.69 Hz |  485.0000 |  423
   3 |   11881.46 Hz |  484.0000 |  146
   4 |   33040.23 Hz |  483.0000 |  406
   5 |   18635.99 Hz |  482.0000 |  229
   6 |   15950.46 Hz |  481.0000 |  196
   7 |   32551.95 Hz |  481.0000 |  400
   8 |   18473.23 Hz |  481.0000 |  227
   9 |   18147.71 Hz |  481.0000 |  223
  10 |   14078.72 Hz |  481.0000 |  173
  11 |    7812.47 Hz |  481.0000 |   96
  12 |   30680.21 Hz |  480.0000 |  377
  13 |   38492.68 Hz |  480.0000 |  473
  14 |   10009.73 Hz |  480.0000 |  123
  15 |   26611.22 Hz |  480.0000 |  327


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 84.36
  Band average: 4.04
  Peak/Average ratio: 20.86

Band 40kHz (37-42 kHz):
  Peak: 38248.55 Hz (bin 470)
  Peak magnitude: 4.07
  Band average: 0.95
  Peak/Average ratio: 4.28

Noise baseline (5-15 kHz):
  Average: 0.81
  Max: 8.13

=== DECISION LOGIC ===
SNR 20kHz band: 104.25 (40.4 dB)
SNR 40kHz band: 5.03 (14.0 dB)

Signal detected at 20kHz: YES (SNR=104.25, Peak/Avg=20.86, Mag=84.36)
Signal detected at 40kHz: YES (SNR=5.03, Peak/Avg=4.28, Mag=4.07)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (75524) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=28369[0m
[0;32mI (75524) MAIN: MQTT message sent![0m
[0;32mI (76494) mqtts: MQTT_EVENT_PUBLISHED, msg_id=28369[0m
[0;32mI (85634) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (86454) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |    8870.41 Hz |  546.0000 |  109
   2 |   35481.63 Hz |  510.0000 |  436
   3 |    8382.13 Hz |  485.0000 |  103
   4 |   23111.89 Hz |  484.0000 |  284
   5 |   23274.65 Hz |  482.0000 |  286
   6 |   10579.38 Hz |  482.0000 |  130
   7 |   26855.36 Hz |  482.0000 |  330
   8 |   33121.61 Hz |  481.0000 |  407
   9 |   37190.61 Hz |  481.0000 |  457
  10 |    6998.67 Hz |  481.0000 |   86
  11 |   27180.88 Hz |  481.0000 |  334
  12 |   18717.37 Hz |  480.0000 |  230
  13 |   14648.38 Hz |  480.0000 |  180
  14 |    8707.65 Hz |  480.0000 |  107
  15 |   12776.64 Hz |  480.0000 |  157


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 84.15
  Band average: 4.14
  Peak/Average ratio: 20.33

Band 40kHz (37-42 kHz):
  Peak: 38248.55 Hz (bin 470)
  Peak magnitude: 4.21
  Band average: 1.10
  Peak/Average ratio: 3.82

Noise baseline (5-15 kHz):
  Average: 0.91
  Max: 7.97

=== DECISION LOGIC ===
SNR 20kHz band: 92.78 (39.3 dB)
SNR 40kHz band: 4.65 (13.3 dB)

Signal detected at 20kHz: YES (SNR=92.78, Peak/Avg=20.33, Mag=84.15)
Signal detected at 40kHz: YES (SNR=4.65, Peak/Avg=3.82, Mag=4.21)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (86584) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=40241[0m
[0;32mI (86584) MAIN: MQTT message sent![0m
[0;32mI (86934) mqtts: MQTT_EVENT_PUBLISHED, msg_id=40241[0m
[0;32mI (96684) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (97504) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   34911.97 Hz |  523.0000 |  429
   2 |   24576.72 Hz |  500.0000 |  302
   3 |    6591.77 Hz |  481.0000 |   81
   4 |   14567.00 Hz |  481.0000 |  179
   5 |   28971.24 Hz |  481.0000 |  356
   6 |   23193.27 Hz |  480.0000 |  285
   7 |    6429.01 Hz |  480.0000 |   79
   8 |   12858.02 Hz |  480.0000 |  158
   9 |   22704.99 Hz |  478.0000 |  279
  10 |   39306.48 Hz |  478.0000 |  483
  11 |    6103.49 Hz |  478.0000 |   75
  12 |   41503.74 Hz |  477.0000 |  510
  13 |   30842.98 Hz |  476.0000 |  379
  14 |   20833.25 Hz |  475.0000 |  256
  15 |   18635.99 Hz |  475.0000 |  229


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 85.63
  Band average: 4.17
  Peak/Average ratio: 20.51

Band 40kHz (37-42 kHz):
  Peak: 38004.41 Hz (bin 467)
  Peak magnitude: 4.02
  Band average: 1.01
  Peak/Average ratio: 4.00

Noise baseline (5-15 kHz):
  Average: 0.92
  Max: 7.67

=== DECISION LOGIC ===
SNR 20kHz band: 92.99 (39.4 dB)
SNR 40kHz band: 4.37 (12.8 dB)

Signal detected at 20kHz: YES (SNR=92.99, Peak/Avg=20.51, Mag=85.63)
Signal detected at 40kHz: YES (SNR=4.37, Peak/Avg=4.00, Mag=4.02)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (97654) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=44563[0m
[0;32mI (97654) MAIN: MQTT message sent![0m
[0;32mI (98204) mqtts: MQTT_EVENT_PUBLISHED, msg_id=44563[0m
[0;32mI (107754) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (108574) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |    5940.73 Hz |  577.0000 |   73
   2 |   36458.19 Hz |  522.0000 |  448
   3 |   12206.98 Hz |  500.0000 |  150
   4 |   24739.48 Hz |  481.0000 |  304
   5 |   18473.23 Hz |  481.0000 |  227
   6 |   28320.20 Hz |  475.0000 |  348
   7 |   32714.71 Hz |  475.0000 |  402
   8 |   36783.71 Hz |  473.0000 |  452
   9 |   17984.95 Hz |  473.0000 |  221
  10 |   11718.70 Hz |  473.0000 |  144
  11 |    5452.45 Hz |  473.0000 |   67
  12 |   18310.47 Hz |  472.0000 |  225
  13 |   32389.19 Hz |  470.0000 |  398
  14 |   22379.47 Hz |  470.0000 |  275
  15 |   16113.22 Hz |  470.0000 |  198


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 85.65
  Band average: 4.16
  Peak/Average ratio: 20.60

Band 40kHz (37-42 kHz):
  Peak: 38085.79 Hz (bin 468)
  Peak magnitude: 3.88
  Band average: 1.04
  Peak/Average ratio: 3.71

Noise baseline (5-15 kHz):
  Average: 0.92
  Max: 7.97

=== DECISION LOGIC ===
SNR 20kHz band: 93.30 (39.4 dB)
SNR 40kHz band: 4.22 (12.5 dB)

Signal detected at 20kHz: YES (SNR=93.30, Peak/Avg=20.60, Mag=85.65)
Signal detected at 40kHz: YES (SNR=4.22, Peak/Avg=3.71, Mag=3.88)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (108704) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=22408[0m
[0;32mI (108704) MAIN: MQTT message sent![0m
[0;32mI (109464) mqtts: MQTT_EVENT_PUBLISHED, msg_id=22408[0m
[0;32mI (118814) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (119634) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   39550.62 Hz |  574.0000 |  486
   2 |   29215.38 Hz |  530.0000 |  359
   3 |   18880.13 Hz |  527.0000 |  232
   4 |   22460.85 Hz |  519.0000 |  276
   5 |   25146.38 Hz |  499.0000 |  309
   6 |   35481.63 Hz |  493.0000 |  436
   7 |   14811.14 Hz |  484.0000 |  182
   8 |    8056.61 Hz |  475.0000 |   99
   9 |   10742.14 Hz |  469.0000 |  132
  10 |   24983.62 Hz |  468.0000 |  307
  11 |   10253.87 Hz |  467.0000 |  126
  12 |   40201.66 Hz |  467.0000 |  494
  13 |   41259.60 Hz |  466.0000 |  507
  14 |   34993.35 Hz |  465.0000 |  430
  15 |   12451.12 Hz |  465.0000 |  153


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 84.30
  Band average: 4.08
  Peak/Average ratio: 20.65

Band 40kHz (37-42 kHz):
  Peak: 38085.79 Hz (bin 468)
  Peak magnitude: 4.12
  Band average: 1.00
  Peak/Average ratio: 4.10

Noise baseline (5-15 kHz):
  Average: 0.86
  Max: 8.08

=== DECISION LOGIC ===
SNR 20kHz band: 98.50 (39.9 dB)
SNR 40kHz band: 4.81 (13.6 dB)

Signal detected at 20kHz: YES (SNR=98.50, Peak/Avg=20.65, Mag=84.30)
Signal detected at 40kHz: YES (SNR=4.81, Peak/Avg=4.10, Mag=4.12)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (119784) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=28140[0m
[0;32mI (119784) MAIN: MQTT message sent![0m
[0;32mI (120724) mqtts: MQTT_EVENT_PUBLISHED, msg_id=28140[0m
[0;32mI (129894) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (130714) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |    7893.85 Hz |  497.0000 |   97
   2 |   38899.59 Hz |  497.0000 |  478
   3 |   18229.09 Hz |  496.0000 |  224
   4 |   28564.34 Hz |  484.0000 |  351
   5 |   22298.09 Hz |  479.0000 |  274
   6 |   11962.84 Hz |  473.0000 |  147
   7 |   24332.59 Hz |  470.0000 |  299
   8 |   34342.31 Hz |  470.0000 |  422
   9 |   13997.34 Hz |  470.0000 |  172
  10 |   34830.59 Hz |  469.0000 |  428
  11 |   26204.32 Hz |  469.0000 |  322
  12 |   21809.81 Hz |  469.0000 |  268
  13 |   30273.32 Hz |  468.0000 |  372
  14 |   13671.82 Hz |  468.0000 |  168
  15 |   11474.56 Hz |  467.0000 |  141


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 84.13
  Band average: 4.04
  Peak/Average ratio: 20.81

Band 40kHz (37-42 kHz):
  Peak: 38085.79 Hz (bin 468)
  Peak magnitude: 3.97
  Band average: 0.99
  Peak/Average ratio: 4.01

Noise baseline (5-15 kHz):
  Average: 0.86
  Max: 7.93

=== DECISION LOGIC ===
SNR 20kHz band: 97.99 (39.8 dB)
SNR 40kHz band: 4.62 (13.3 dB)

Signal detected at 20kHz: YES (SNR=97.99, Peak/Avg=20.81, Mag=84.13)
Signal detected at 40kHz: YES (SNR=4.62, Peak/Avg=4.01, Mag=3.97)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (130844) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=64733[0m
[0;32mI (130844) MAIN: MQTT message sent![0m
[0;32mI (131374) mqtts: MQTT_EVENT_PUBLISHED, msg_id=64733[0m
[0;32mI (140954) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (141774) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   40689.94 Hz | 1236.0000 |  500
   2 |    9684.21 Hz | 1166.0000 |  119
   3 |   20019.45 Hz | 1085.0000 |  246
   4 |   33935.41 Hz | 1081.0000 |  417
   5 |    5452.45 Hz | 1079.0000 |   67
   6 |   36946.47 Hz | 1079.0000 |  454
   7 |    5940.73 Hz | 1079.0000 |   73
   8 |   30680.21 Hz | 1078.0000 |  377
   9 |   20344.97 Hz | 1078.0000 |  250
  10 |   10335.25 Hz | 1074.0000 |  127
  11 |   26611.22 Hz | 1074.0000 |  327
  12 |   22542.23 Hz | 1071.0000 |  277
  13 |   25797.42 Hz | 1071.0000 |  317
  14 |   27994.68 Hz | 1071.0000 |  344
  15 |   31005.73 Hz | 1070.0000 |  381


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 188.82
  Band average: 9.19
  Peak/Average ratio: 20.55

Band 40kHz (37-42 kHz):
  Peak: 38085.79 Hz (bin 468)
  Peak magnitude: 8.74
  Band average: 2.23
  Peak/Average ratio: 3.92

Noise baseline (5-15 kHz):
  Average: 1.95
  Max: 19.41

=== DECISION LOGIC ===
SNR 20kHz band: 96.64 (39.7 dB)
SNR 40kHz band: 4.47 (13.0 dB)

Signal detected at 20kHz: YES (SNR=96.64, Peak/Avg=20.55, Mag=188.82)
Signal detected at 40kHz: YES (SNR=4.47, Peak/Avg=3.92, Mag=8.74)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (141924) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=21199[0m
[0;32mI (141924) MAIN: MQTT message sent![0m
[0;32mI (142644) mqtts: MQTT_EVENT_PUBLISHED, msg_id=21199[0m
[0;32mI (152034) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (152854) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   19368.41 Hz | 1342.0000 |  238
   2 |   25634.66 Hz | 1175.0000 |  315
   3 |   35969.91 Hz | 1156.0000 |  442
   4 |    9033.17 Hz | 1149.0000 |  111
   5 |   31738.15 Hz | 1137.0000 |  390
   6 |   31900.91 Hz | 1115.0000 |  392
   7 |   22949.13 Hz | 1101.0000 |  282
   8 |   12613.88 Hz | 1081.0000 |  155
   9 |   38492.68 Hz | 1079.0000 |  473
  10 |   21891.19 Hz | 1078.0000 |  269
  11 |   32226.43 Hz | 1078.0000 |  396
  12 |    6266.25 Hz | 1074.0000 |   77
  13 |   15950.46 Hz | 1073.0000 |  196
  14 |   31412.63 Hz | 1073.0000 |  386
  15 |   15624.94 Hz | 1071.0000 |  192


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 189.38
  Band average: 9.11
  Peak/Average ratio: 20.78

Band 40kHz (37-42 kHz):
  Peak: 38004.41 Hz (bin 467)
  Peak magnitude: 7.84
  Band average: 1.98
  Peak/Average ratio: 3.96

Noise baseline (5-15 kHz):
  Average: 1.87
  Max: 17.51

=== DECISION LOGIC ===
SNR 20kHz band: 101.13 (40.1 dB)
SNR 40kHz band: 4.19 (12.4 dB)

Signal detected at 20kHz: YES (SNR=101.13, Peak/Avg=20.78, Mag=189.38)
Signal detected at 40kHz: YES (SNR=4.19, Peak/Avg=3.96, Mag=7.84)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (152984) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=56898[0m
[0;32mI (152984) MAIN: MQTT message sent![0m
[0;32mI (153904) mqtts: MQTT_EVENT_PUBLISHED, msg_id=56898[0m
[0;32mI (163094) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (163914) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |    9033.17 Hz |  570.0000 |  111
   2 |   21565.67 Hz |  519.0000 |  265
   3 |   11230.42 Hz |  496.0000 |  138
   4 |   21402.91 Hz |  486.0000 |  263
   5 |   36620.95 Hz |  485.0000 |  450
   6 |   31412.63 Hz |  484.0000 |  386
   7 |   38492.68 Hz |  481.0000 |  473
   8 |   23762.93 Hz |  481.0000 |  292
   9 |   21077.39 Hz |  481.0000 |  259
  10 |   13427.68 Hz |  480.0000 |  165
  11 |   18880.13 Hz |  480.0000 |  232
  12 |   27343.64 Hz |  479.0000 |  336
  13 |   26285.70 Hz |  478.0000 |  323
  14 |   36702.33 Hz |  478.0000 |  451
  15 |   36295.43 Hz |  477.0000 |  446


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 88.28
  Band average: 4.20
  Peak/Average ratio: 21.01

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 3.83
  Band average: 0.86
  Peak/Average ratio: 4.43

Noise baseline (5-15 kHz):
  Average: 0.87
  Max: 8.32

=== DECISION LOGIC ===
SNR 20kHz band: 101.97 (40.2 dB)
SNR 40kHz band: 4.42 (12.9 dB)

Signal detected at 20kHz: YES (SNR=101.97, Peak/Avg=21.01, Mag=88.28)
Signal detected at 40kHz: YES (SNR=4.42, Peak/Avg=4.43, Mag=3.83)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (164064) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=16409[0m
[0;32mI (164064) MAIN: MQTT message sent![0m
[0;32mI (165174) mqtts: MQTT_EVENT_PUBLISHED, msg_id=16409[0m
[0;32mI (174174) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (174994) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   17171.16 Hz |  608.0000 |  211
   2 |   13102.16 Hz |  523.0000 |  161
   3 |   40038.90 Hz |  505.0000 |  492
   4 |   29703.66 Hz |  495.0000 |  365
   5 |   27506.40 Hz |  495.0000 |  338
   6 |    8870.41 Hz |  481.0000 |  109
   7 |   20751.87 Hz |  481.0000 |  255
   8 |   37353.37 Hz |  481.0000 |  459
   9 |   39550.62 Hz |  481.0000 |  486
  10 |   27018.12 Hz |  480.0000 |  332
  11 |   22949.13 Hz |  480.0000 |  282
  12 |   19693.93 Hz |  480.0000 |  242
  13 |   18880.13 Hz |  479.0000 |  232
  14 |    8544.89 Hz |  478.0000 |  105
  15 |   31900.91 Hz |  478.0000 |  392


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 88.10
  Band average: 4.44
  Peak/Average ratio: 19.84

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 2.78
  Band average: 1.05
  Peak/Average ratio: 2.65

Noise baseline (5-15 kHz):
  Average: 1.15
  Max: 6.81

=== DECISION LOGIC ===
SNR 20kHz band: 76.81 (37.7 dB)
SNR 40kHz band: 2.43 (7.7 dB)

Signal detected at 20kHz: YES (SNR=76.81, Peak/Avg=19.84, Mag=88.10)
Signal detected at 40kHz: YES (SNR=2.43, Peak/Avg=2.65, Mag=2.78)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (175124) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=45686[0m
[0;32mI (175124) MAIN: MQTT message sent![0m
[0;32mI (175404) mqtts: MQTT_EVENT_PUBLISHED, msg_id=45686[0m
[0;32mI (185224) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (186044) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   21647.05 Hz |  995.0000 |  266
   2 |   34505.07 Hz |  962.0000 |  424
   3 |   30436.08 Hz |  960.0000 |  374
   4 |   20100.83 Hz |  959.0000 |  247
   5 |   17903.57 Hz |  959.0000 |  220
   6 |   32307.81 Hz |  959.0000 |  397
   7 |   28238.82 Hz |  959.0000 |  347
   8 |   34179.55 Hz |  959.0000 |  420
   9 |   36702.33 Hz |  959.0000 |  451
  10 |   36376.81 Hz |  959.0000 |  447
  11 |   19775.31 Hz |  953.0000 |  243
  12 |   26041.56 Hz |  953.0000 |  320
  13 |   38574.06 Hz |  952.0000 |  474
  14 |   24169.82 Hz |  952.0000 |  297
  15 |    9440.07 Hz |  951.0000 |  116


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 174.83
  Band average: 8.50
  Peak/Average ratio: 20.57

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 4.91
  Band average: 1.57
  Peak/Average ratio: 3.12

Noise baseline (5-15 kHz):
  Average: 1.69
  Max: 11.32

=== DECISION LOGIC ===
SNR 20kHz band: 103.20 (40.3 dB)
SNR 40kHz band: 2.90 (9.2 dB)

Signal detected at 20kHz: YES (SNR=103.20, Peak/Avg=20.57, Mag=174.83)
Signal detected at 40kHz: YES (SNR=2.90, Peak/Avg=3.12, Mag=4.91)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (186194) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=16814[0m
[0;32mI (186194) MAIN: MQTT message sent![0m
[0;32mI (186874) mqtts: MQTT_EVENT_PUBLISHED, msg_id=16814[0m
[0;32mI (196304) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (197124) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28564.34 Hz |  928.0000 |  351
   2 |   34830.59 Hz |  928.0000 |  428
   3 |   35156.11 Hz |  927.0000 |  432
   4 |    5696.59 Hz |  925.0000 |   70
   5 |   18554.61 Hz |  923.0000 |  228
   6 |    9765.59 Hz |  923.0000 |  120
   7 |   39225.10 Hz |  922.0000 |  482
   8 |    7893.85 Hz |  922.0000 |   97
   9 |   10091.11 Hz |  922.0000 |  124
  10 |   11962.84 Hz |  922.0000 |  147
  11 |   24495.34 Hz |  921.0000 |  301
  12 |   37353.37 Hz |  920.0000 |  459
  13 |   37027.85 Hz |  920.0000 |  455
  14 |   30761.60 Hz |  920.0000 |  378
  15 |   32958.85 Hz |  920.0000 |  405


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 167.98
  Band average: 7.76
  Peak/Average ratio: 21.65

Band 40kHz (37-42 kHz):
  Peak: 38980.96 Hz (bin 479)
  Peak magnitude: 3.62
  Band average: 1.21
  Peak/Average ratio: 3.01

Noise baseline (5-15 kHz):
  Average: 1.29
  Max: 11.23

=== DECISION LOGIC ===
SNR 20kHz band: 130.18 (42.3 dB)
SNR 40kHz band: 2.81 (9.0 dB)

Signal detected at 20kHz: YES (SNR=130.18, Peak/Avg=21.65, Mag=167.98)
Signal detected at 40kHz: YES (SNR=2.81, Peak/Avg=3.01, Mag=3.62)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (197254) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=61645[0m
[0;32mI (197254) MAIN: MQTT message sent![0m
[0;32mI (198564) mqtts: MQTT_EVENT_PUBLISHED, msg_id=61645[0m
[0;32mI (207364) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (208184) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   22542.23 Hz | 1129.0000 |  277
   2 |   35074.73 Hz | 1074.0000 |  431
   3 |   24739.48 Hz | 1031.0000 |  304
   4 |    8137.99 Hz | 1012.0000 |  100
   5 |   10335.25 Hz |  995.0000 |  127
   6 |   12044.22 Hz |  987.0000 |  148
   7 |   26936.74 Hz |  984.0000 |  331
   8 |   12532.50 Hz |  982.0000 |  154
   9 |   18798.75 Hz |  982.0000 |  231
  10 |   37271.98 Hz |  982.0000 |  458
  11 |   17984.95 Hz |  982.0000 |  221
  12 |   18310.47 Hz |  982.0000 |  225
  13 |   37597.51 Hz |  982.0000 |  462
  14 |    7975.23 Hz |  978.0000 |   98
  15 |   24576.72 Hz |  978.0000 |  302


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 172.90
  Band average: 8.40
  Peak/Average ratio: 20.58

Band 40kHz (37-42 kHz):
  Peak: 38004.41 Hz (bin 467)
  Peak magnitude: 7.52
  Band average: 2.04
  Peak/Average ratio: 3.69

Noise baseline (5-15 kHz):
  Average: 1.83
  Max: 16.28

=== DECISION LOGIC ===
SNR 20kHz band: 94.54 (39.5 dB)
SNR 40kHz band: 4.11 (12.3 dB)

Signal detected at 20kHz: YES (SNR=94.54, Peak/Avg=20.58, Mag=172.90)
Signal detected at 40kHz: YES (SNR=4.11, Peak/Avg=3.69, Mag=7.52)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (208334) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=52795[0m
[0;32mI (208334) MAIN: MQTT message sent![0m
[0;32mI (208994) mqtts: MQTT_EVENT_PUBLISHED, msg_id=52795[0m
[0;32mI (218444) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (219264) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   14078.72 Hz | 1063.0000 |  173
   2 |   36946.47 Hz | 1037.0000 |  454
   3 |   30680.21 Hz | 1031.0000 |  377
   4 |   22542.23 Hz |  990.0000 |  277
   5 |   40852.70 Hz |  987.0000 |  502
   6 |   39143.72 Hz |  982.0000 |  481
   7 |   26122.94 Hz |  978.0000 |  321
   8 |   24739.48 Hz |  978.0000 |  304
   9 |   16275.98 Hz |  978.0000 |  200
  10 |   16601.50 Hz |  978.0000 |  204
  11 |   11393.18 Hz |  978.0000 |  140
  12 |   27994.68 Hz |  978.0000 |  344
  13 |   31005.73 Hz |  978.0000 |  381
  14 |   39469.24 Hz |  976.0000 |  485
  15 |   31331.25 Hz |  976.0000 |  385


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 172.76
  Band average: 8.28
  Peak/Average ratio: 20.87

Band 40kHz (37-42 kHz):
  Peak: 38004.41 Hz (bin 467)
  Peak magnitude: 8.12
  Band average: 2.06
  Peak/Average ratio: 3.94

Noise baseline (5-15 kHz):
  Average: 1.76
  Max: 15.98

=== DECISION LOGIC ===
SNR 20kHz band: 98.12 (39.8 dB)
SNR 40kHz band: 4.61 (13.3 dB)

Signal detected at 20kHz: YES (SNR=98.12, Peak/Avg=20.87, Mag=172.76)
Signal detected at 40kHz: YES (SNR=4.61, Peak/Avg=3.94, Mag=8.12)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (219394) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=14773[0m
[0;32mI (219394) MAIN: MQTT message sent![0m
[0;32mI (220464) mqtts: MQTT_EVENT_PUBLISHED, msg_id=14773[0m
[0;32mI (229504) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (230324) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   36132.67 Hz | 1540.0000 |  444
   2 |    6998.67 Hz | 1537.0000 |   86
   3 |   38329.93 Hz | 1333.0000 |  471
   4 |    9195.93 Hz | 1331.0000 |  113
   5 |   21728.43 Hz | 1284.0000 |  267
   6 |   40527.18 Hz | 1278.0000 |  498
   7 |   11393.18 Hz | 1274.0000 |  140
   8 |   13590.44 Hz | 1268.0000 |  167
   9 |   26122.94 Hz | 1260.0000 |  321
  10 |   40852.70 Hz | 1255.0000 |  502
  11 |   28320.20 Hz | 1255.0000 |  348
  12 |   15787.70 Hz | 1255.0000 |  194
  13 |   11718.70 Hz | 1251.0000 |  144
  14 |   40038.90 Hz | 1251.0000 |  492
  15 |   17415.29 Hz | 1251.0000 |  214


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 212.17
  Band average: 10.24
  Peak/Average ratio: 20.71

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 10.14
  Band average: 2.52
  Peak/Average ratio: 4.03

Noise baseline (5-15 kHz):
  Average: 2.29
  Max: 20.44

=== DECISION LOGIC ===
SNR 20kHz band: 92.83 (39.4 dB)
SNR 40kHz band: 4.43 (12.9 dB)

Signal detected at 20kHz: YES (SNR=92.83, Peak/Avg=20.71, Mag=212.17)
Signal detected at 40kHz: YES (SNR=4.43, Peak/Avg=4.03, Mag=10.14)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (230474) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=12923[0m
[0;32mI (230474) MAIN: MQTT message sent![0m
[0;32mI (230714) mqtts: MQTT_EVENT_PUBLISHED, msg_id=12923[0m
[0;32mI (240584) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (241404) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   29866.42 Hz | 1440.0000 |  367
   2 |   13264.92 Hz | 1399.0000 |  163
   3 |   15462.18 Hz | 1297.0000 |  190
   4 |   25797.42 Hz | 1278.0000 |  317
   5 |   32063.67 Hz | 1262.0000 |  394
   6 |   19856.69 Hz | 1258.0000 |  244
   7 |   40038.90 Hz | 1258.0000 |  492
   8 |   17659.43 Hz | 1258.0000 |  217
   9 |   32389.19 Hz | 1258.0000 |  398
  10 |   11149.04 Hz | 1255.0000 |  137
  11 |   27994.68 Hz | 1254.0000 |  344
  12 |   22053.95 Hz | 1254.0000 |  271
  13 |    5126.93 Hz | 1254.0000 |   63
  14 |   17984.95 Hz | 1253.0000 |  221
  15 |   36458.19 Hz | 1249.0000 |  448


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 212.05
  Band average: 10.02
  Peak/Average ratio: 21.16

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 9.98
  Band average: 2.33
  Peak/Average ratio: 4.29

Noise baseline (5-15 kHz):
  Average: 2.03
  Max: 20.58

=== DECISION LOGIC ===
SNR 20kHz band: 104.61 (40.4 dB)
SNR 40kHz band: 4.92 (13.8 dB)

Signal detected at 20kHz: YES (SNR=104.61, Peak/Avg=21.16, Mag=212.05)
Signal detected at 40kHz: YES (SNR=4.92, Peak/Avg=4.29, Mag=9.98)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (241534) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=16501[0m
[0;32mI (241534) MAIN: MQTT message sent![0m
[0;32mI (242174) mqtts: MQTT_EVENT_PUBLISHED, msg_id=16501[0m
[0;32mI (251644) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (252464) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   22460.85 Hz | 1387.0000 |  276
   2 |   18391.85 Hz | 1284.0000 |  226
   3 |    8056.61 Hz | 1239.0000 |   99
   4 |   10904.90 Hz | 1236.0000 |  134
   5 |   14322.86 Hz | 1234.0000 |  176
   6 |   10986.28 Hz | 1216.0000 |  135
   7 |   10253.87 Hz | 1186.0000 |  126
   8 |   33121.61 Hz | 1178.0000 |  407
   9 |   11230.42 Hz | 1175.0000 |  138
  10 |   39387.86 Hz | 1170.0000 |  484
  11 |   29052.62 Hz | 1169.0000 |  357
  12 |   27180.88 Hz | 1166.0000 |  334
  13 |   11311.80 Hz | 1166.0000 |  139
  14 |   33447.13 Hz | 1159.0000 |  411
  15 |   39713.38 Hz | 1157.0000 |  488


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 197.74
  Band average: 9.43
  Peak/Average ratio: 20.97

Band 40kHz (37-42 kHz):
  Peak: 38085.79 Hz (bin 468)
  Peak magnitude: 8.69
  Band average: 2.14
  Peak/Average ratio: 4.07

Noise baseline (5-15 kHz):
  Average: 1.87
  Max: 19.61

=== DECISION LOGIC ===
SNR 20kHz band: 105.99 (40.5 dB)
SNR 40kHz band: 4.66 (13.4 dB)

Signal detected at 20kHz: YES (SNR=105.99, Peak/Avg=20.97, Mag=197.74)
Signal detected at 40kHz: YES (SNR=4.66, Peak/Avg=4.07, Mag=8.69)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (252614) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=30356[0m
[0;32mI (252614) MAIN: MQTT message sent![0m
[0;32mI (262734) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (263544) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   32145.05 Hz | 1406.0000 |  395
   2 |   21809.81 Hz | 1303.0000 |  268
   3 |   38411.30 Hz | 1279.0000 |  472
   4 |   28076.06 Hz | 1273.0000 |  345
   5 |   11800.08 Hz | 1175.0000 |  145
   6 |   18066.33 Hz | 1175.0000 |  222
   7 |    5859.35 Hz | 1173.0000 |   72
   8 |    5533.83 Hz | 1172.0000 |   68
   9 |   21647.05 Hz | 1170.0000 |  266
  10 |   22135.33 Hz | 1170.0000 |  272
  11 |   34667.83 Hz | 1167.0000 |  426
  12 |   12125.60 Hz | 1166.0000 |  149
  13 |   18391.85 Hz | 1166.0000 |  226
  14 |   21565.67 Hz | 1166.0000 |  265
  15 |   24332.59 Hz | 1166.0000 |  299


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 198.32
  Band average: 9.68
  Peak/Average ratio: 20.49

Band 40kHz (37-42 kHz):
  Peak: 38085.79 Hz (bin 468)
  Peak magnitude: 8.46
  Band average: 2.05
  Peak/Average ratio: 4.12

Noise baseline (5-15 kHz):
  Average: 2.02
  Max: 19.98

=== DECISION LOGIC ===
SNR 20kHz band: 97.98 (39.8 dB)
SNR 40kHz band: 4.18 (12.4 dB)

Signal detected at 20kHz: YES (SNR=97.98, Peak/Avg=20.49, Mag=198.32)
Signal detected at 40kHz: YES (SNR=4.18, Peak/Avg=4.12, Mag=8.46)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (263674) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=57128[0m
[0;32mI (263674) MAIN: MQTT message sent![0m
[0;32mI (267574) mqtts: MQTT_EVENT_PUBLISHED, msg_id=30356[0m
[0;32mI (268184) mqtts: MQTT_EVENT_PUBLISHED, msg_id=57128[0m
[0;32mI (273784) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (274604) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   26611.22 Hz | 1365.0000 |  327
   2 |   12206.98 Hz | 1236.0000 |  150
   3 |   10009.73 Hz | 1204.0000 |  123
   4 |   18473.23 Hz | 1194.0000 |  227
   5 |   32877.47 Hz | 1191.0000 |  404
   6 |   35074.73 Hz | 1188.0000 |  431
   7 |   41340.98 Hz | 1183.0000 |  508
   8 |   39143.72 Hz | 1182.0000 |  481
   9 |   14404.24 Hz | 1175.0000 |  177
  10 |   29134.00 Hz | 1166.0000 |  358
  11 |   28808.48 Hz | 1166.0000 |  354
  12 |   11718.70 Hz | 1166.0000 |  144
  13 |    6266.25 Hz | 1166.0000 |   77
  14 |   14729.76 Hz | 1159.0000 |  181
  15 |   20670.49 Hz | 1159.0000 |  254


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 198.87
  Band average: 9.66
  Peak/Average ratio: 20.58

Band 40kHz (37-42 kHz):
  Peak: 38004.41 Hz (bin 467)
  Peak magnitude: 9.56
  Band average: 2.36
  Peak/Average ratio: 4.05

Noise baseline (5-15 kHz):
  Average: 2.05
  Max: 16.50

=== DECISION LOGIC ===
SNR 20kHz band: 96.80 (39.7 dB)
SNR 40kHz band: 4.65 (13.4 dB)

Signal detected at 20kHz: YES (SNR=96.80, Peak/Avg=20.58, Mag=198.87)
Signal detected at 40kHz: YES (SNR=4.65, Peak/Avg=4.05, Mag=9.56)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (274754) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=56754[0m
[0;32mI (274754) MAIN: MQTT message sent![0m
[0;32mI (275364) mqtts: MQTT_EVENT_PUBLISHED, msg_id=56754[0m
[0;32mI (284864) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (285684) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |    9684.21 Hz | 1245.0000 |  119
   2 |   32551.95 Hz | 1219.0000 |  400
   3 |   11881.46 Hz | 1192.0000 |  146
   4 |   34749.21 Hz | 1182.0000 |  427
   5 |   18147.71 Hz | 1179.0000 |  223
   6 |   26611.22 Hz | 1169.0000 |  327
   7 |    5615.21 Hz | 1167.0000 |   69
   8 |   15462.18 Hz | 1166.0000 |  190
   9 |   36946.47 Hz | 1166.0000 |  454
  10 |   29866.42 Hz | 1162.0000 |  367
  11 |   38818.20 Hz | 1162.0000 |  477
  12 |    5940.73 Hz | 1162.0000 |   73
  13 |   12206.98 Hz | 1160.0000 |  150
  14 |   41015.46 Hz | 1159.0000 |  504
  15 |   41340.98 Hz | 1159.0000 |  508


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 199.10
  Band average: 9.34
  Peak/Average ratio: 21.31

Band 40kHz (37-42 kHz):
  Peak: 38004.41 Hz (bin 467)
  Peak magnitude: 9.83
  Band average: 2.20
  Peak/Average ratio: 4.47

Noise baseline (5-15 kHz):
  Average: 1.92
  Max: 16.67

=== DECISION LOGIC ===
SNR 20kHz band: 103.76 (40.3 dB)
SNR 40kHz band: 5.12 (14.2 dB)

Signal detected at 20kHz: YES (SNR=103.76, Peak/Avg=21.31, Mag=199.10)
Signal detected at 40kHz: YES (SNR=5.12, Peak/Avg=4.47, Mag=9.83)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (285814) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=25633[0m
[0;32mI (285814) MAIN: MQTT message sent![0m
[0;32mI (286824) mqtts: MQTT_EVENT_PUBLISHED, msg_id=25633[0m
[0;32mI (295924) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (296744) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   12613.88 Hz |  683.0000 |  155
   2 |   18880.13 Hz |  601.0000 |  232
   3 |    6347.63 Hz |  574.0000 |   78
   4 |   41259.60 Hz |  574.0000 |  507
   5 |   37678.89 Hz |  546.0000 |  463
   6 |   21077.39 Hz |  536.0000 |  259
   7 |   34993.35 Hz |  533.0000 |  430
   8 |   14811.14 Hz |  532.0000 |  182
   9 |   39876.14 Hz |  531.0000 |  490
  10 |   20914.63 Hz |  529.0000 |  257
  11 |   26855.36 Hz |  525.0000 |  330
  12 |    8382.13 Hz |  524.0000 |  103
  13 |   37516.12 Hz |  522.0000 |  461
  14 |   33121.61 Hz |  522.0000 |  407
  15 |   27669.16 Hz |  522.0000 |  340


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 91.97
  Band average: 4.38
  Peak/Average ratio: 21.02

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 4.59
  Band average: 1.03
  Peak/Average ratio: 4.46

Noise baseline (5-15 kHz):
  Average: 0.93
  Max: 8.70

=== DECISION LOGIC ===
SNR 20kHz band: 98.45 (39.9 dB)
SNR 40kHz band: 4.92 (13.8 dB)

Signal detected at 20kHz: YES (SNR=98.45, Peak/Avg=21.02, Mag=91.97)
Signal detected at 40kHz: YES (SNR=4.92, Peak/Avg=4.46, Mag=4.59)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (296894) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=42705[0m
[0;32mI (296894) MAIN: MQTT message sent![0m
[0;32mI (297264) mqtts: MQTT_EVENT_PUBLISHED, msg_id=42705[0m
[0;32mI (307004) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (307824) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |    6347.63 Hz |  601.0000 |   78
   2 |   18880.13 Hz |  557.0000 |  232
   3 |   22460.85 Hz |  546.0000 |  276
   4 |   17659.43 Hz |  546.0000 |  217
   5 |   17740.81 Hz |  546.0000 |  218
   6 |   16194.60 Hz |  535.0000 |  199
   7 |    8382.13 Hz |  533.0000 |  103
   8 |   21077.39 Hz |  531.0000 |  259
   9 |   12451.12 Hz |  527.0000 |  153
  10 |   10742.14 Hz |  526.0000 |  132
  11 |   18391.85 Hz |  525.0000 |  226
  12 |    8056.61 Hz |  525.0000 |   99
  13 |   30924.36 Hz |  524.0000 |  380
  14 |   29947.80 Hz |  524.0000 |  368
  15 |    8544.89 Hz |  524.0000 |  105


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 92.44
  Band average: 4.33
  Peak/Average ratio: 21.36

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 4.52
  Band average: 0.95
  Peak/Average ratio: 4.78

Noise baseline (5-15 kHz):
  Average: 0.88
  Max: 8.85

=== DECISION LOGIC ===
SNR 20kHz band: 104.77 (40.4 dB)
SNR 40kHz band: 5.13 (14.2 dB)

Signal detected at 20kHz: YES (SNR=104.77, Peak/Avg=21.36, Mag=92.44)
Signal detected at 40kHz: YES (SNR=5.13, Peak/Avg=4.78, Mag=4.52)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (307954) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=16005[0m
[0;32mI (307954) MAIN: MQTT message sent![0m
[0;32mI (308734) mqtts: MQTT_EVENT_PUBLISHED, msg_id=16005[0m
[0;32mI (315904) mqtts: MQTT_EVENT_DATA[0m
TOPIC=34B7DA543528/downlink
DATA={"frequency":0.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}
[0;32mI (315904) MAIN: === Message received in MAIN ===[0m
[0;32mI (315914) MAIN: Topic: 34B7DA543528/downlink[0m
[0;32mI (315914) MAIN: Data: {"frequency":0.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}[0m
[0;32mI (315924) MAIN: Expiry timer triggered! Schedule has expired![0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (315934) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (315944) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (315964) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (315974) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (315984) MAIN: Previous expiry timer deleted[0m
[0;32mI (315984) MAIN: Start timestamp is 0 or past, executing immediately[0m
[0;32mI (315994) MAIN: Timer triggered! Executing scheduled action...[0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (316004) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (316014) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (316024) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (316034) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (316044) MAIN: Expiry timer set for 0.13 hours (total 467 seconds from now)[0m
[0;32mI (316054) MAIN: status updated and timer started[0m
[0;32mI (318064) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (318884) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 18961.51 Hz (bin 233)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.56

Band 40kHz (37-42 kHz):
  Peak: 38167.16 Hz (bin 469)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.95

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.29 (-10.7 dB)
SNR 40kHz band: 0.28 (-11.0 dB)

Signal detected at 20kHz: NO (SNR=0.29, Peak/Avg=1.56, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.28, Peak/Avg=1.95, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (319014) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=45214[0m
[0;32mI (319024) MAIN: MQTT message sent![0m
[0;32mI (319384) mqtts: MQTT_EVENT_PUBLISHED, msg_id=45214[0m
[0;32mI (320504) mqtts: MQTT_EVENT_DATA[0m
TOPIC=34B7DA543528/downlink
DATA={"frequency":0.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}
[0;32mI (320514) MAIN: === Message received in MAIN ===[0m
[0;32mI (320514) MAIN: Topic: 34B7DA543528/downlink[0m
[0;32mI (320524) MAIN: Data: {"frequency":0.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}[0m
[0;32mI (320534) MAIN: Expiry timer triggered! Schedule has expired![0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (320544) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (320554) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (320564) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (320584) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (320584) MAIN: Previous expiry timer deleted[0m
[0;32mI (320594) MAIN: Start timestamp is 0 or past, executing immediately[0m
[0;32mI (320604) MAIN: Timer triggered! Executing scheduled action...[0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (320614) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (320624) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (320634) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (320644) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (320654) MAIN: Expiry timer set for 0.13 hours (total 467 seconds from now)[0m
[0;32mI (320664) MAIN: status updated and timer started[0m
[0;32mI (328594) mqtts: MQTT_EVENT_DATA[0m
TOPIC=34B7DA543528/downlink
DATA={"frequency":20.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}
[0;32mI (328604) MAIN: === Message received in MAIN ===[0m
[0;32mI (328604) MAIN: Topic: 34B7DA543528/downlink[0m
[0;32mI (328614) MAIN: Data: {"frequency":20.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}[0m
[0;32mI (328624) MAIN: Expiry timer triggered! Schedule has expired![0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (328634) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (328644) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (328654) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (328664) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (328674) MAIN: Previous expiry timer deleted[0m
[0;32mI (328684) MAIN: Start timestamp is 0 or past, executing immediately[0m
[0;32mI (328694) MAIN: Timer triggered! Executing scheduled action...[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (328704) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (328714) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
[0;32mI (328724) PWM: Cambio frequenza: 21700 -> 21700 Hz, risoluzione: 9 -> 9 bit[0m
[0;32mI (328724) PWM: Timer riconfigurato: 21700 Hz, 9 bit (512 livelli)[0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (328734) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 256 / 512 (risoluzione: 9 bit)
[0;32mI (328754) PWM: Hardware PWM duty: 50.00% richiesto -> 50.10% effettivo (256/512)[0m
Imposto duty: 8191 / 8192 (risoluzione: 13 bit)
[0;32mI (328764) PWM: Hardware PWM duty: 100.00% richiesto -> 100.00% effettivo (8191/8192)[0m
[0;32mI (328774) MAIN: Expiry timer set for 0.13 hours (total 467 seconds from now)[0m
[0;32mI (328774) MAIN: status updated and timer started[0m
[0;32mI (329124) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (329944) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   22216.71 Hz |  244.0000 |  273
   2 |   13753.20 Hz |  232.0000 |  169
   3 |   30680.21 Hz |  230.0000 |  377
   4 |   27994.68 Hz |  224.0000 |  344
   5 |   41340.98 Hz |  204.0000 |  508
   6 |    6266.25 Hz |  202.0000 |   77
   7 |   22053.95 Hz |  193.0000 |  271
   8 |    6347.63 Hz |  193.0000 |   78
   9 |    7486.95 Hz |  189.0000 |   92
  10 |   19531.17 Hz |  188.0000 |  240
  11 |   11067.66 Hz |  186.0000 |  136
  12 |   18147.71 Hz |  183.0000 |  223
  13 |    6998.67 Hz |  183.0000 |   86
  14 |   28808.48 Hz |  182.0000 |  354
  15 |    9195.93 Hz |  179.0000 |  113


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 32.72
  Band average: 1.67
  Peak/Average ratio: 19.62

Band 40kHz (37-42 kHz):
  Peak: 39306.48 Hz (bin 483)
  Peak magnitude: 1.05
  Band average: 0.33
  Peak/Average ratio: 3.15

Noise baseline (5-15 kHz):
  Average: 0.41
  Max: 3.07

=== DECISION LOGIC ===
SNR 20kHz band: 79.63 (38.0 dB)
SNR 40kHz band: 2.56 (8.2 dB)

Signal detected at 20kHz: YES (SNR=79.63, Peak/Avg=19.62, Mag=32.72)
Signal detected at 40kHz: YES (SNR=2.56, Peak/Avg=3.15, Mag=1.05)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (330084) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=15286[0m
[0;32mI (330084) MAIN: MQTT message sent![0m
[0;32mI (331054) mqtts: MQTT_EVENT_PUBLISHED, msg_id=15286[0m
[0;32mI (340184) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (341004) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   25634.66 Hz |  234.0000 |  315
   2 |   40852.70 Hz |  199.0000 |  502
   3 |   17089.78 Hz |  199.0000 |  210
   4 |   28320.20 Hz |  187.0000 |  348
   5 |   32796.09 Hz |  186.0000 |  403
   6 |   17496.68 Hz |  184.0000 |  215
   7 |   17171.16 Hz |  184.0000 |  211
   8 |   30517.46 Hz |  180.0000 |  375
   9 |   36783.71 Hz |  180.0000 |  452
  10 |   34586.45 Hz |  177.0000 |  425
  11 |   33040.23 Hz |  177.0000 |  406
  12 |   38167.16 Hz |  177.0000 |  469
  13 |    5777.97 Hz |  176.0000 |   71
  14 |    9033.17 Hz |  175.0000 |  111
  15 |   13427.68 Hz |  174.0000 |  165


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 32.49
  Band average: 1.55
  Peak/Average ratio: 20.91

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 1.64
  Band average: 0.26
  Peak/Average ratio: 6.36

Noise baseline (5-15 kHz):
  Average: 0.31
  Max: 2.93

=== DECISION LOGIC ===
SNR 20kHz band: 105.62 (40.5 dB)
SNR 40kHz band: 5.34 (14.5 dB)

Signal detected at 20kHz: YES (SNR=105.62, Peak/Avg=20.91, Mag=32.49)
Signal detected at 40kHz: YES (SNR=5.34, Peak/Avg=6.36, Mag=1.64)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (341144) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=42098[0m
[0;32mI (341144) MAIN: MQTT message sent![0m
[0;32mI (341494) mqtts: MQTT_EVENT_PUBLISHED, msg_id=42098[0m
[0;32mI (351254) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (352074) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   33528.51 Hz |  204.0000 |  412
   2 |   27262.26 Hz |  193.0000 |  335
   3 |   37109.23 Hz |  183.0000 |  456
   4 |   29459.52 Hz |  180.0000 |  362
   5 |   30842.98 Hz |  179.0000 |  379
   6 |   23193.27 Hz |  176.0000 |  285
   7 |    8300.75 Hz |  174.0000 |  102
   8 |   33040.23 Hz |  174.0000 |  406
   9 |   14567.00 Hz |  172.0000 |  179
  10 |   31656.77 Hz |  172.0000 |  389
  11 |   39306.48 Hz |  172.0000 |  483
  12 |   26773.98 Hz |  172.0000 |  329
  13 |   27099.50 Hz |  171.0000 |  333
  14 |   37434.75 Hz |  171.0000 |  460
  15 |   20507.73 Hz |  171.0000 |  252


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 32.35
  Band average: 1.56
  Peak/Average ratio: 20.75

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 1.28
  Band average: 0.24
  Peak/Average ratio: 5.28

Noise baseline (5-15 kHz):
  Average: 0.32
  Max: 2.72

=== DECISION LOGIC ===
SNR 20kHz band: 99.71 (40.0 dB)
SNR 40kHz band: 3.95 (11.9 dB)

Signal detected at 20kHz: YES (SNR=99.71, Peak/Avg=20.75, Mag=32.35)
Signal detected at 40kHz: YES (SNR=3.95, Peak/Avg=5.28, Mag=1.28)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (352214) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=26508[0m
[0;32mI (352214) MAIN: MQTT message sent![0m
[0;32mI (352964) mqtts: MQTT_EVENT_PUBLISHED, msg_id=26508[0m
[0;32mI (362324) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (363144) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   21972.57 Hz |  202.0000 |  270
   2 |   12125.60 Hz |  200.0000 |  149
   3 |   40771.32 Hz |  185.0000 |  501
   4 |    9440.07 Hz |  184.0000 |  116
   5 |   37027.85 Hz |  184.0000 |  455
   6 |   17903.57 Hz |  183.0000 |  220
   7 |   14322.86 Hz |  180.0000 |  176
   8 |    5696.59 Hz |  176.0000 |   70
   9 |   22786.37 Hz |  176.0000 |  280
  10 |   30436.08 Hz |  176.0000 |  374
  11 |   18229.09 Hz |  176.0000 |  224
  12 |   24169.82 Hz |  175.0000 |  297
  13 |   39713.38 Hz |  175.0000 |  488
  14 |   11637.32 Hz |  175.0000 |  143
  15 |   20589.11 Hz |  175.0000 |  253


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 32.31
  Band average: 1.46
  Peak/Average ratio: 22.11

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 1.20
  Band average: 0.18
  Peak/Average ratio: 6.81

Noise baseline (5-15 kHz):
  Average: 0.25
  Max: 2.62

=== DECISION LOGIC ===
SNR 20kHz band: 127.03 (42.1 dB)
SNR 40kHz band: 4.71 (13.5 dB)

Signal detected at 20kHz: YES (SNR=127.03, Peak/Avg=22.11, Mag=32.31)
Signal detected at 40kHz: YES (SNR=4.71, Peak/Avg=6.81, Mag=1.20)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (363284) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=9922[0m
[0;32mI (363284) MAIN: MQTT message sent![0m
[0;32mI (364434) mqtts: MQTT_EVENT_PUBLISHED, msg_id=9922[0m
[0;32mI (373394) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (374214) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   36946.47 Hz |  214.0000 |  454
   2 |   33365.75 Hz |  200.0000 |  410
   3 |   39632.00 Hz |  199.0000 |  487
   4 |   16764.26 Hz |  179.0000 |  206
   5 |   35563.01 Hz |  179.0000 |  437
   6 |   30680.21 Hz |  177.0000 |  377
   7 |   18961.51 Hz |  176.0000 |  233
   8 |   33202.99 Hz |  175.0000 |  408
   9 |   14567.00 Hz |  175.0000 |  179
  10 |   29296.76 Hz |  174.0000 |  360
  11 |   18473.23 Hz |  173.0000 |  227
  12 |   34016.79 Hz |  172.0000 |  418
  13 |   10498.00 Hz |  172.0000 |  129
  14 |   10335.25 Hz |  172.0000 |  127
  15 |   32877.47 Hz |  171.0000 |  404


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 32.19
  Band average: 1.57
  Peak/Average ratio: 20.49

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 1.63
  Band average: 0.29
  Peak/Average ratio: 5.62

Noise baseline (5-15 kHz):
  Average: 0.35
  Max: 3.01

=== DECISION LOGIC ===
SNR 20kHz band: 92.61 (39.3 dB)
SNR 40kHz band: 4.68 (13.4 dB)

Signal detected at 20kHz: YES (SNR=92.61, Peak/Avg=20.49, Mag=32.19)
Signal detected at 40kHz: YES (SNR=4.68, Peak/Avg=5.62, Mag=1.63)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (374354) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=49717[0m
[0;32mI (374354) MAIN: MQTT message sent![0m
[0;32mI (376824) mqtts: MQTT_EVENT_PUBLISHED, msg_id=49717[0m
[0;32mI (384464) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (385284) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   31005.73 Hz |  190.0000 |  381
   2 |   33202.99 Hz |  183.0000 |  408
   3 |    9521.45 Hz |  180.0000 |  117
   4 |   39469.24 Hz |  179.0000 |  485
   5 |   37271.98 Hz |  179.0000 |  458
   6 |   30517.46 Hz |  176.0000 |  375
   7 |   36783.71 Hz |  176.0000 |  452
   8 |   20996.01 Hz |  176.0000 |  258
   9 |   30842.98 Hz |  175.0000 |  379
  10 |   22053.95 Hz |  175.0000 |  271
  11 |    7649.71 Hz |  174.0000 |   94
  12 |   26936.74 Hz |  174.0000 |  331
  13 |   25390.52 Hz |  174.0000 |  312
  14 |   28645.72 Hz |  173.0000 |  352
  15 |    8463.51 Hz |  172.0000 |  104


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 32.61
  Band average: 1.60
  Peak/Average ratio: 20.42

Band 40kHz (37-42 kHz):
  Peak: 38980.96 Hz (bin 479)
  Peak magnitude: 1.26
  Band average: 0.32
  Peak/Average ratio: 3.93

Noise baseline (5-15 kHz):
  Average: 0.36
  Max: 2.99

=== DECISION LOGIC ===
SNR 20kHz band: 90.70 (39.2 dB)
SNR 40kHz band: 3.51 (10.9 dB)

Signal detected at 20kHz: YES (SNR=90.70, Peak/Avg=20.42, Mag=32.61)
Signal detected at 40kHz: YES (SNR=3.51, Peak/Avg=3.93, Mag=1.26)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (385424) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=22779[0m
[0;32mI (385424) MAIN: MQTT message sent![0m
[0;32mI (386864) mqtts: MQTT_EVENT_PUBLISHED, msg_id=22779[0m
[0;32mI (395534) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (396354) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   40689.94 Hz |  204.0000 |  500
   2 |   21158.77 Hz |  189.0000 |  260
   3 |   17659.43 Hz |  187.0000 |  217
   4 |    5126.93 Hz |  186.0000 |   63
   5 |   36865.09 Hz |  180.0000 |  453
   6 |   21240.15 Hz |  177.0000 |  261
   7 |   21565.67 Hz |  174.0000 |  265
   8 |   40852.70 Hz |  173.0000 |  502
   9 |   37109.23 Hz |  171.0000 |  456
  10 |   28320.20 Hz |  171.0000 |  348
  11 |   15787.70 Hz |  171.0000 |  194
  12 |   19856.69 Hz |  166.0000 |  244
  13 |   26773.98 Hz |  166.0000 |  329
  14 |   16113.22 Hz |  165.0000 |  198
  15 |   29703.66 Hz |  165.0000 |  365


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 30.88
  Band average: 1.48
  Peak/Average ratio: 20.89

Band 40kHz (37-42 kHz):
  Peak: 39062.34 Hz (bin 480)
  Peak magnitude: 1.06
  Band average: 0.32
  Peak/Average ratio: 3.32

Noise baseline (5-15 kHz):
  Average: 0.33
  Max: 2.82

=== DECISION LOGIC ===
SNR 20kHz band: 93.48 (39.4 dB)
SNR 40kHz band: 3.21 (10.1 dB)

Signal detected at 20kHz: YES (SNR=93.48, Peak/Avg=20.89, Mag=30.88)
Signal detected at 40kHz: YES (SNR=3.21, Peak/Avg=3.32, Mag=1.06)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (396494) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=31040[0m
[0;32mI (396494) MAIN: MQTT message sent![0m
[0;32mI (397204) mqtts: MQTT_EVENT_PUBLISHED, msg_id=31040[0m
[0;32mI (406604) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (407424) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   29703.66 Hz |  206.0000 |  365
   2 |   10904.90 Hz |  193.0000 |  134
   3 |   20751.87 Hz |  184.0000 |  255
   4 |    6022.11 Hz |  184.0000 |   74
   5 |   19368.41 Hz |  183.0000 |  238
   6 |   39876.14 Hz |  180.0000 |  490
   7 |   37678.89 Hz |  180.0000 |  463
   8 |   33609.89 Hz |  179.0000 |  413
   9 |   18880.13 Hz |  179.0000 |  232
  10 |   34423.69 Hz |  177.0000 |  423
  11 |   27343.64 Hz |  177.0000 |  336
  12 |   25960.18 Hz |  177.0000 |  319
  13 |   17496.68 Hz |  177.0000 |  215
  14 |   35807.15 Hz |  176.0000 |  440
  15 |   17008.39 Hz |  176.0000 |  209


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 33.31
  Band average: 1.61
  Peak/Average ratio: 20.68

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 1.01
  Band average: 0.33
  Peak/Average ratio: 3.03

Noise baseline (5-15 kHz):
  Average: 0.37
  Max: 2.65

=== DECISION LOGIC ===
SNR 20kHz band: 88.96 (39.0 dB)
SNR 40kHz band: 2.69 (8.6 dB)

Signal detected at 20kHz: YES (SNR=88.96, Peak/Avg=20.68, Mag=33.31)
Signal detected at 40kHz: YES (SNR=2.69, Peak/Avg=3.03, Mag=1.01)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (407564) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=16329[0m
[0;32mI (407564) MAIN: MQTT message sent![0m
[0;32mI (408674) mqtts: MQTT_EVENT_PUBLISHED, msg_id=16329[0m
[0;32mI (409084) mqtts: MQTT_EVENT_DATA[0m
TOPIC=34B7DA543528/downlink
DATA={"frequency":0.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}
[0;32mI (409084) MAIN: === Message received in MAIN ===[0m
[0;32mI (409094) MAIN: Topic: 34B7DA543528/downlink[0m
[0;32mI (409094) MAIN: Data: {"frequency":0.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}[0m
[0;32mI (409104) MAIN: Expiry timer triggered! Schedule has expired![0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (409114) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (409134) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (409144) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (409154) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (409164) MAIN: Previous expiry timer deleted[0m
[0;32mI (409164) MAIN: Start timestamp is 0 or past, executing immediately[0m
[0;32mI (409174) MAIN: Timer triggered! Executing scheduled action...[0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (409184) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (409194) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (409204) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (409224) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (409224) MAIN: Expiry timer set for 0.13 hours (total 467 seconds from now)[0m
[0;32mI (409234) MAIN: status updated and timer started[0m
[0;32mI (417674) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (418494) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 18961.51 Hz (bin 233)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.81

Band 40kHz (37-42 kHz):
  Peak: 38085.79 Hz (bin 468)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 2.40

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.30 (-10.6 dB)
SNR 40kHz band: 0.30 (-10.4 dB)

Signal detected at 20kHz: NO (SNR=0.30, Peak/Avg=1.81, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.30, Peak/Avg=2.40, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (418624) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=14047[0m
[0;32mI (418634) MAIN: MQTT message sent![0m
[0;32mI (419524) mqtts: MQTT_EVENT_PUBLISHED, msg_id=14047[0m
[0;32mI (428734) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (429554) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 20833.25 Hz (bin 256)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.49

Band 40kHz (37-42 kHz):
  Peak: 38004.41 Hz (bin 467)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 2.33

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.30 (-10.3 dB)
SNR 40kHz band: 0.16 (-16.1 dB)

Signal detected at 20kHz: NO (SNR=0.30, Peak/Avg=1.49, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.16, Peak/Avg=2.33, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (429684) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=18809[0m
[0;32mI (429694) MAIN: MQTT message sent![0m
[0;32mI (430994) mqtts: MQTT_EVENT_PUBLISHED, msg_id=18809[0m
[0;32mI (439794) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (440614) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 19449.79 Hz (bin 239)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.94

Band 40kHz (37-42 kHz):
  Peak: 38167.16 Hz (bin 469)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 2.93

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.20 (-13.9 dB)
SNR 40kHz band: 0.22 (-13.3 dB)

Signal detected at 20kHz: NO (SNR=0.20, Peak/Avg=1.94, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.22, Peak/Avg=2.93, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (440744) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=59043[0m
[0;32mI (440754) MAIN: MQTT message sent![0m
[0;32mI (441854) mqtts: MQTT_EVENT_PUBLISHED, msg_id=59043[0m
[0;32mI (450854) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (451674) Temperature sensor: Slot 0: 20.69 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 20833.25 Hz (bin 256)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.89

Band 40kHz (37-42 kHz):
  Peak: 38248.55 Hz (bin 470)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 2.63

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.29 (-10.9 dB)
SNR 40kHz band: 0.22 (-13.1 dB)

Signal detected at 20kHz: NO (SNR=0.29, Peak/Avg=1.89, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.22, Peak/Avg=2.63, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (451804) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=22815[0m
[0;32mI (451814) MAIN: MQTT message sent![0m
[0;32mI (452084) mqtts: MQTT_EVENT_PUBLISHED, msg_id=22815[0m
[0;32mI (456794) mqtts: MQTT_EVENT_DATA[0m
TOPIC=34B7DA543528/downlink
DATA={"frequency":20.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}
[0;32mI (456804) MAIN: === Message received in MAIN ===[0m
[0;32mI (456804) MAIN: Topic: 34B7DA543528/downlink[0m
[0;32mI (456814) MAIN: Data: {"frequency":20.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}[0m
[0;32mI (456824) MAIN: Expiry timer triggered! Schedule has expired![0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (456834) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (456844) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (456854) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (456874) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (456874) MAIN: Previous expiry timer deleted[0m
[0;32mI (456884) MAIN: Start timestamp is 0 or past, executing immediately[0m
[0;32mI (456894) MAIN: Timer triggered! Executing scheduled action...[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (456904) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (456914) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
[0;32mI (456924) PWM: Cambio frequenza: 21700 -> 21700 Hz, risoluzione: 9 -> 9 bit[0m
[0;32mI (456924) PWM: Timer riconfigurato: 21700 Hz, 9 bit (512 livelli)[0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (456944) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 256 / 512 (risoluzione: 9 bit)
[0;32mI (456954) PWM: Hardware PWM duty: 50.00% richiesto -> 50.10% effettivo (256/512)[0m
Imposto duty: 8191 / 8192 (risoluzione: 13 bit)
[0;32mI (456964) PWM: Hardware PWM duty: 100.00% richiesto -> 100.00% effettivo (8191/8192)[0m
[0;32mI (456974) MAIN: Expiry timer set for 0.13 hours (total 467 seconds from now)[0m
[0;32mI (456984) MAIN: status updated and timer started[0m
[0;32mI (461914) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (462734) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   41096.84 Hz |  197.0000 |  505
   2 |   32958.85 Hz |  193.0000 |  405
   3 |   28564.34 Hz |  189.0000 |  351
   4 |    7893.85 Hz |  188.0000 |   97
   5 |   22298.09 Hz |  188.0000 |  274
   6 |    5696.59 Hz |  188.0000 |   70
   7 |   39550.62 Hz |  186.0000 |  486
   8 |   24495.34 Hz |  185.0000 |  301
   9 |    6022.11 Hz |  185.0000 |   74
  10 |    8219.37 Hz |  184.0000 |  101
  11 |   25146.38 Hz |  184.0000 |  309
  12 |   13834.58 Hz |  184.0000 |  170
  13 |   18554.61 Hz |  184.0000 |  228
  14 |   17008.39 Hz |  183.0000 |  209
  15 |   37353.37 Hz |  183.0000 |  459


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 35.47
  Band average: 1.70
  Peak/Average ratio: 20.91

Band 40kHz (37-42 kHz):
  Peak: 40038.90 Hz (bin 492)
  Peak magnitude: 3.01
  Band average: 0.45
  Peak/Average ratio: 6.74

Noise baseline (5-15 kHz):
  Average: 0.36
  Max: 2.53

=== DECISION LOGIC ===
SNR 20kHz band: 99.59 (40.0 dB)
SNR 40kHz band: 8.45 (18.5 dB)

Signal detected at 20kHz: YES (SNR=99.59, Peak/Avg=20.91, Mag=35.47)
Signal detected at 40kHz: YES (SNR=8.45, Peak/Avg=6.74, Mag=3.01)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (462874) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=54176[0m
[0;32mI (462874) MAIN: MQTT message sent![0m
[0;32mI (463454) mqtts: MQTT_EVENT_PUBLISHED, msg_id=54176[0m
[0;32mI (472984) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (473804) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   19368.41 Hz |  293.0000 |  238
   2 |   23437.41 Hz |  287.0000 |  288
   3 |   20344.97 Hz |  280.0000 |  250
   4 |   35156.11 Hz |  278.0000 |  432
   5 |   13102.16 Hz |  275.0000 |  161
   6 |   31900.91 Hz |  272.0000 |  392
   7 |   25634.66 Hz |  272.0000 |  315
   8 |   23844.30 Hz |  271.0000 |  293
   9 |   19449.79 Hz |  271.0000 |  239
  10 |   35074.73 Hz |  271.0000 |  431
  11 |   38492.68 Hz |  270.0000 |  473
  12 |   15624.94 Hz |  270.0000 |  192
  13 |   19693.93 Hz |  270.0000 |  242
  14 |   20670.49 Hz |  270.0000 |  254
  15 |   27831.92 Hz |  269.0000 |  342


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 53.34
  Band average: 2.49
  Peak/Average ratio: 21.45

Band 40kHz (37-42 kHz):
  Peak: 40038.90 Hz (bin 492)
  Peak magnitude: 3.30
  Band average: 0.56
  Peak/Average ratio: 5.85

Noise baseline (5-15 kHz):
  Average: 0.47
  Max: 3.75

=== DECISION LOGIC ===
SNR 20kHz band: 113.62 (41.1 dB)
SNR 40kHz band: 7.03 (16.9 dB)

Signal detected at 20kHz: YES (SNR=113.62, Peak/Avg=21.45, Mag=53.34)
Signal detected at 40kHz: YES (SNR=7.03, Peak/Avg=5.85, Mag=3.30)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (473944) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=23936[0m
[0;32mI (473944) MAIN: MQTT message sent![0m
[0;32mI (474824) mqtts: MQTT_EVENT_PUBLISHED, msg_id=23936[0m
[0;32mI (484054) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (484874) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   10335.25 Hz |  574.0000 |  127
   2 |   34911.97 Hz |  562.0000 |  429
   3 |   25065.00 Hz |  561.0000 |  308
   4 |   37597.51 Hz |  559.0000 |  462
   5 |   22867.75 Hz |  548.0000 |  281
   6 |    6266.25 Hz |  540.0000 |   77
   7 |   13915.96 Hz |  536.0000 |  171
   8 |   19124.27 Hz |  535.0000 |  235
   9 |   12532.50 Hz |  535.0000 |  154
  10 |   20996.01 Hz |  535.0000 |  258
  11 |   21321.53 Hz |  532.0000 |  262
  12 |   17008.39 Hz |  531.0000 |  209
  13 |   24576.72 Hz |  531.0000 |  302
  14 |   12044.22 Hz |  531.0000 |  148
  15 |   38574.06 Hz |  531.0000 |  474


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 105.18
  Band average: 4.94
  Peak/Average ratio: 21.30

Band 40kHz (37-42 kHz):
  Peak: 39062.34 Hz (bin 480)
  Peak magnitude: 3.05
  Band average: 0.84
  Peak/Average ratio: 3.65

Noise baseline (5-15 kHz):
  Average: 0.93
  Max: 8.88

=== DECISION LOGIC ===
SNR 20kHz band: 113.25 (41.1 dB)
SNR 40kHz band: 3.28 (10.3 dB)

Signal detected at 20kHz: YES (SNR=113.25, Peak/Avg=21.30, Mag=105.18)
Signal detected at 40kHz: YES (SNR=3.28, Peak/Avg=3.65, Mag=3.05)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (485024) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=41680[0m
[0;32mI (485024) MAIN: MQTT message sent![0m
[0;32mI (486284) mqtts: MQTT_EVENT_PUBLISHED, msg_id=41680[0m
[0;32mI (495134) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (495954) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   12858.02 Hz |  623.0000 |  158
   2 |   37923.02 Hz |  609.0000 |  466
   3 |    8789.03 Hz |  553.0000 |  108
   4 |   40120.28 Hz |  551.0000 |  493
   5 |   33691.27 Hz |  538.0000 |  414
   6 |   31168.50 Hz |  538.0000 |  383
   7 |    8626.27 Hz |  537.0000 |  106
   8 |   33854.03 Hz |  536.0000 |  416
   9 |   15055.28 Hz |  536.0000 |  185
  10 |   37760.27 Hz |  533.0000 |  464
  11 |   36051.29 Hz |  533.0000 |  443
  12 |    7242.81 Hz |  533.0000 |   89
  13 |   27099.50 Hz |  531.0000 |  333
  14 |   10986.28 Hz |  530.0000 |  135
  15 |   36132.67 Hz |  530.0000 |  444


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 105.20
  Band average: 4.79
  Peak/Average ratio: 21.95

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 4.57
  Band average: 0.84
  Peak/Average ratio: 5.43

Noise baseline (5-15 kHz):
  Average: 0.82
  Max: 9.63

=== DECISION LOGIC ===
SNR 20kHz band: 127.61 (42.1 dB)
SNR 40kHz band: 5.54 (14.9 dB)

Signal detected at 20kHz: YES (SNR=127.61, Peak/Avg=21.95, Mag=105.20)
Signal detected at 40kHz: YES (SNR=5.54, Peak/Avg=5.43, Mag=4.57)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (496084) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=4892[0m
[0;32mI (496084) MAIN: MQTT message sent![0m
[0;32mI (496734) mqtts: MQTT_EVENT_PUBLISHED, msg_id=4892[0m
[0;32mI (506194) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (507014) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   32063.67 Hz |  189.0000 |  394
   2 |   38329.93 Hz |  177.0000 |  471
   3 |   16113.22 Hz |  145.0000 |  198
   4 |    7731.09 Hz |  144.0000 |   95
   5 |   21240.15 Hz |  144.0000 |  261
   6 |   37841.64 Hz |  142.0000 |  465
   7 |   25309.14 Hz |  141.0000 |  311
   8 |   12776.64 Hz |  138.0000 |  157
   9 |   20182.21 Hz |  137.0000 |  248
  10 |   23437.41 Hz |  137.0000 |  288
  11 |    6835.91 Hz |  137.0000 |   84
  12 |    8707.65 Hz |  137.0000 |  107
  13 |   15299.42 Hz |  136.0000 |  188
  14 |    7324.19 Hz |  136.0000 |   90
  15 |   40364.42 Hz |  136.0000 |  496


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 25.30
  Band average: 1.28
  Peak/Average ratio: 19.72

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 0.99
  Band average: 0.37
  Peak/Average ratio: 2.69

Noise baseline (5-15 kHz):
  Average: 0.33
  Max: 2.15

=== DECISION LOGIC ===
SNR 20kHz band: 76.65 (37.7 dB)
SNR 40kHz band: 3.01 (9.6 dB)

Signal detected at 20kHz: YES (SNR=76.65, Peak/Avg=19.72, Mag=25.30)
Signal detected at 40kHz: YES (SNR=3.01, Peak/Avg=2.69, Mag=0.99)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (507154) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=18094[0m
[0;32mI (507154) MAIN: MQTT message sent![0m
[0;32mI (508204) mqtts: MQTT_EVENT_PUBLISHED, msg_id=18094[0m
[0;32mI (517254) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (518074) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |    8789.03 Hz |  159.0000 |  108
   2 |   20833.25 Hz |  143.0000 |  256
   3 |   28971.24 Hz |  143.0000 |  356
   4 |   18635.99 Hz |  143.0000 |  229
   5 |   39306.48 Hz |  140.0000 |  483
   6 |   24902.24 Hz |  137.0000 |  306
   7 |   41503.74 Hz |  136.0000 |  510
   8 |   35725.77 Hz |  136.0000 |  439
   9 |   33365.75 Hz |  136.0000 |  410
  10 |   35237.49 Hz |  136.0000 |  433
  11 |    5452.45 Hz |  135.0000 |   67
  12 |   14567.00 Hz |  135.0000 |  179
  13 |    8300.75 Hz |  135.0000 |  102
  14 |   40527.18 Hz |  135.0000 |  498
  15 |   17578.05 Hz |  135.0000 |  216


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 24.89
  Band average: 1.27
  Peak/Average ratio: 19.59

Band 40kHz (37-42 kHz):
  Peak: 38004.41 Hz (bin 467)
  Peak magnitude: 1.01
  Band average: 0.29
  Peak/Average ratio: 3.42

Noise baseline (5-15 kHz):
  Average: 0.30
  Max: 2.08

=== DECISION LOGIC ===
SNR 20kHz band: 83.86 (38.5 dB)
SNR 40kHz band: 3.40 (10.6 dB)

Signal detected at 20kHz: YES (SNR=83.86, Peak/Avg=19.59, Mag=24.89)
Signal detected at 40kHz: YES (SNR=3.40, Peak/Avg=3.42, Mag=1.01)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (518214) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=62235[0m
[0;32mI (518214) MAIN: MQTT message sent![0m
[0;32mI (518744) mqtts: MQTT_EVENT_PUBLISHED, msg_id=62235[0m
[0;32mI (528324) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (529144) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |    5533.83 Hz |  150.0000 |   68
   2 |   34993.35 Hz |  145.0000 |  430
   3 |   20263.59 Hz |  145.0000 |  249
   4 |   13997.34 Hz |  144.0000 |  172
   5 |   40283.04 Hz |  139.0000 |  495
   6 |   33609.89 Hz |  137.0000 |  413
   7 |   24983.62 Hz |  136.0000 |  307
   8 |   24658.11 Hz |  136.0000 |  303
   9 |   28727.10 Hz |  136.0000 |  353
  10 |   38004.41 Hz |  134.0000 |  467
  11 |   30924.36 Hz |  134.0000 |  380
  12 |    8951.79 Hz |  133.0000 |  110
  13 |   22460.85 Hz |  133.0000 |  276
  14 |    6673.15 Hz |  133.0000 |   82
  15 |   36214.05 Hz |  132.0000 |  445


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 25.14
  Band average: 1.24
  Peak/Average ratio: 20.23

Band 40kHz (37-42 kHz):
  Peak: 39143.72 Hz (bin 481)
  Peak magnitude: 0.92
  Band average: 0.28
  Peak/Average ratio: 3.33

Noise baseline (5-15 kHz):
  Average: 0.32
  Max: 2.19

=== DECISION LOGIC ===
SNR 20kHz band: 79.44 (38.0 dB)
SNR 40kHz band: 2.91 (9.3 dB)

Signal detected at 20kHz: YES (SNR=79.44, Peak/Avg=20.23, Mag=25.14)
Signal detected at 40kHz: YES (SNR=2.91, Peak/Avg=3.33, Mag=0.92)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (529284) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=10720[0m
[0;32mI (529284) MAIN: MQTT message sent![0m
[0;32mI (530124) mqtts: MQTT_EVENT_PUBLISHED, msg_id=10720[0m
[0;32mI (539384) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (540204) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |    5126.93 Hz |  183.0000 |   63
   2 |   26122.94 Hz |  160.0000 |  321
   3 |   17171.16 Hz |  150.0000 |  211
   4 |   28157.44 Hz |  138.0000 |  346
   5 |   13102.16 Hz |  136.0000 |  161
   6 |   33040.23 Hz |  135.0000 |  406
   7 |   36783.71 Hz |  135.0000 |  452
   8 |   13590.44 Hz |  135.0000 |  167
   9 |   10904.90 Hz |  135.0000 |  134
  10 |   16194.60 Hz |  133.0000 |  199
  11 |   21565.67 Hz |  133.0000 |  265
  12 |   22135.33 Hz |  133.0000 |  272
  13 |    7649.71 Hz |  133.0000 |   94
  14 |   27831.92 Hz |  132.0000 |  342
  15 |   12125.60 Hz |  131.0000 |  149


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 24.74
  Band average: 1.22
  Peak/Average ratio: 20.20

Band 40kHz (37-42 kHz):
  Peak: 39062.34 Hz (bin 480)
  Peak magnitude: 0.62
  Band average: 0.19
  Peak/Average ratio: 3.23

Noise baseline (5-15 kHz):
  Average: 0.29
  Max: 2.09

=== DECISION LOGIC ===
SNR 20kHz band: 86.70 (38.8 dB)
SNR 40kHz band: 2.16 (6.7 dB)

Signal detected at 20kHz: YES (SNR=86.70, Peak/Avg=20.20, Mag=24.74)
Signal detected at 40kHz: YES (SNR=2.16, Peak/Avg=3.23, Mag=0.62)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (540344) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=41581[0m
[0;32mI (540344) MAIN: MQTT message sent![0m
[0;32mI (541694) mqtts: MQTT_EVENT_PUBLISHED, msg_id=41581[0m
[0;32mI (550454) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (551274) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   40934.08 Hz |  193.0000 |  503
   2 |   21077.39 Hz |  174.0000 |  259
   3 |   21158.77 Hz |  174.0000 |  260
   4 |   36783.71 Hz |  164.0000 |  452
   5 |   37027.85 Hz |  145.0000 |  455
   6 |   23681.55 Hz |  144.0000 |  291
   7 |   29947.80 Hz |  141.0000 |  368
   8 |   21484.29 Hz |  140.0000 |  264
   9 |   30842.98 Hz |  138.0000 |  379
  10 |    6022.11 Hz |  138.0000 |   74
  11 |   41096.84 Hz |  136.0000 |  505
  12 |   21402.91 Hz |  135.0000 |  263
  13 |   20100.83 Hz |  135.0000 |  247
  14 |   22298.09 Hz |  135.0000 |  274
  15 |   30761.60 Hz |  134.0000 |  378


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 25.20
  Band average: 1.25
  Peak/Average ratio: 20.08

Band 40kHz (37-42 kHz):
  Peak: 39062.34 Hz (bin 480)
  Peak magnitude: 0.69
  Band average: 0.27
  Peak/Average ratio: 2.55

Noise baseline (5-15 kHz):
  Average: 0.31
  Max: 1.89

=== DECISION LOGIC ===
SNR 20kHz band: 80.17 (38.1 dB)
SNR 40kHz band: 2.20 (6.8 dB)

Signal detected at 20kHz: YES (SNR=80.17, Peak/Avg=20.08, Mag=25.20)
Signal detected at 40kHz: YES (SNR=2.20, Peak/Avg=2.55, Mag=0.69)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (551414) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=30651[0m
[0;32mI (551414) MAIN: MQTT message sent![0m
[0;32mI (552034) mqtts: MQTT_EVENT_PUBLISHED, msg_id=30651[0m
[0;32mI (561514) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (562334) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   39387.86 Hz |  177.0000 |  484
   2 |   34423.69 Hz |  152.0000 |  423
   3 |   39632.00 Hz |  152.0000 |  487
   4 |   40689.94 Hz |  145.0000 |  500
   5 |   39713.38 Hz |  143.0000 |  488
   6 |   23681.55 Hz |  142.0000 |  291
   7 |   13427.68 Hz |  136.0000 |  165
   8 |    7161.43 Hz |  135.0000 |   88
   9 |   24088.45 Hz |  135.0000 |  296
  10 |   23762.93 Hz |  134.0000 |  292
  11 |   35237.49 Hz |  131.0000 |  433
  12 |   35563.01 Hz |  131.0000 |  437
  13 |   39957.52 Hz |  131.0000 |  491
  14 |   37109.23 Hz |  130.0000 |  456
  15 |    6103.49 Hz |  130.0000 |   75


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 24.27
  Band average: 1.22
  Peak/Average ratio: 19.88

Band 40kHz (37-42 kHz):
  Peak: 39062.34 Hz (bin 480)
  Peak magnitude: 0.66
  Band average: 0.29
  Peak/Average ratio: 2.26

Noise baseline (5-15 kHz):
  Average: 0.33
  Max: 1.87

=== DECISION LOGIC ===
SNR 20kHz band: 73.28 (37.3 dB)
SNR 40kHz band: 2.01 (6.1 dB)

Signal detected at 20kHz: YES (SNR=73.28, Peak/Avg=19.88, Mag=24.27)
Signal detected at 40kHz: YES (SNR=2.01, Peak/Avg=2.26, Mag=0.66)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (562474) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=34202[0m
[0;32mI (562474) MAIN: MQTT message sent![0m
[0;32mI (563494) mqtts: MQTT_EVENT_PUBLISHED, msg_id=34202[0m
[0;32mI (572574) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (573394) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |    5615.21 Hz |  201.0000 |   69
   2 |   35400.25 Hz |  158.0000 |  435
   3 |   20344.97 Hz |  147.0000 |  250
   4 |   23030.51 Hz |  141.0000 |  283
   5 |   33365.75 Hz |  141.0000 |  410
   6 |   26936.74 Hz |  138.0000 |  331
   7 |   10823.52 Hz |  136.0000 |  133
   8 |   31819.54 Hz |  136.0000 |  391
   9 |   25553.28 Hz |  135.0000 |  314
  10 |   37760.27 Hz |  134.0000 |  464
  11 |   29296.76 Hz |  134.0000 |  360
  12 |   35888.53 Hz |  133.0000 |  441
  13 |   26855.36 Hz |  133.0000 |  330
  14 |   35563.01 Hz |  133.0000 |  437
  15 |   22542.23 Hz |  133.0000 |  277


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 25.32
  Band average: 1.21
  Peak/Average ratio: 20.88

Band 40kHz (37-42 kHz):
  Peak: 37923.02 Hz (bin 466)
  Peak magnitude: 1.24
  Band average: 0.30
  Peak/Average ratio: 4.15

Noise baseline (5-15 kHz):
  Average: 0.29
  Max: 2.47

=== DECISION LOGIC ===
SNR 20kHz band: 88.20 (38.9 dB)
SNR 40kHz band: 4.34 (12.7 dB)

Signal detected at 20kHz: YES (SNR=88.20, Peak/Avg=20.88, Mag=25.32)
Signal detected at 40kHz: YES (SNR=4.34, Peak/Avg=4.15, Mag=1.24)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (573534) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=10614[0m
[0;32mI (573534) MAIN: MQTT message sent![0m
[0;32mI (573734) mqtts: MQTT_EVENT_PUBLISHED, msg_id=10614[0m
[0;32mI (583644) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (584464) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |    9928.35 Hz |  200.0000 |  122
   2 |   10009.73 Hz |  190.0000 |  123
   3 |   25716.04 Hz |  188.0000 |  316
   4 |   41259.60 Hz |  177.0000 |  507
   5 |   25634.66 Hz |  173.0000 |  315
   6 |   40120.28 Hz |  172.0000 |  493
   7 |   41340.98 Hz |  172.0000 |  508
   8 |   10253.87 Hz |  167.0000 |  126
   9 |   10335.25 Hz |  159.0000 |  127
  10 |   15869.08 Hz |  150.0000 |  195
  11 |   10660.76 Hz |  148.0000 |  131
  12 |    8463.51 Hz |  147.0000 |  104
  13 |   28808.48 Hz |  145.0000 |  354
  14 |   33854.03 Hz |  145.0000 |  416
  15 |   19612.55 Hz |  145.0000 |  241


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 27.00
  Band average: 1.36
  Peak/Average ratio: 19.86

Band 40kHz (37-42 kHz):
  Peak: 39225.10 Hz (bin 482)
  Peak magnitude: 0.93
  Band average: 0.22
  Peak/Average ratio: 4.31

Noise baseline (5-15 kHz):
  Average: 0.32
  Max: 2.10

=== DECISION LOGIC ===
SNR 20kHz band: 84.30 (38.5 dB)
SNR 40kHz band: 2.90 (9.3 dB)

Signal detected at 20kHz: YES (SNR=84.30, Peak/Avg=19.86, Mag=27.00)
Signal detected at 40kHz: YES (SNR=2.90, Peak/Avg=4.31, Mag=0.93)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (584604) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=53021[0m
[0;32mI (584604) MAIN: MQTT message sent![0m
[0;32mI (585204) mqtts: MQTT_EVENT_PUBLISHED, msg_id=53021[0m
[0;32mI (594704) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (595524) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   30517.46 Hz |  152.0000 |  375
   2 |   23030.51 Hz |  151.0000 |  283
   3 |   29296.76 Hz |  148.0000 |  360
   4 |   21647.05 Hz |  143.0000 |  266
   5 |   38899.59 Hz |  142.0000 |  478
   6 |   14892.52 Hz |  142.0000 |  183
   7 |    6754.53 Hz |  141.0000 |   83
   8 |    6429.01 Hz |  141.0000 |   79
   9 |   15787.70 Hz |  141.0000 |  194
  10 |    9114.55 Hz |  141.0000 |  112
  11 |   33691.27 Hz |  140.0000 |  414
  12 |   17903.57 Hz |  138.0000 |  220
  13 |   19449.79 Hz |  138.0000 |  239
  14 |   25553.28 Hz |  137.0000 |  314
  15 |   21158.77 Hz |  137.0000 |  260


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 26.50
  Band average: 1.37
  Peak/Average ratio: 19.40

Band 40kHz (37-42 kHz):
  Peak: 39062.34 Hz (bin 480)
  Peak magnitude: 0.59
  Band average: 0.31
  Peak/Average ratio: 1.94

Noise baseline (5-15 kHz):
  Average: 0.35
  Max: 2.34

=== DECISION LOGIC ===
SNR 20kHz band: 75.44 (37.6 dB)
SNR 40kHz band: 1.69 (4.6 dB)

Signal detected at 20kHz: YES (SNR=75.44, Peak/Avg=19.40, Mag=26.50)
Signal detected at 40kHz: YES (SNR=1.69, Peak/Avg=1.94, Mag=0.59)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (595664) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=56251[0m
[0;32mI (595664) MAIN: MQTT message sent![0m
[0;32mI (596464) mqtts: MQTT_EVENT_PUBLISHED, msg_id=56251[0m
[0;32mI (605764) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (606584) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   39469.24 Hz |  198.0000 |  485
   2 |   29134.00 Hz |  145.0000 |  358
   3 |   18473.23 Hz |  145.0000 |  227
   4 |   27587.78 Hz |  143.0000 |  339
   5 |    9846.97 Hz |  143.0000 |  121
   6 |   39306.48 Hz |  143.0000 |  483
   7 |   38004.41 Hz |  143.0000 |  467
   8 |   15787.70 Hz |  142.0000 |  194
   9 |   37923.02 Hz |  142.0000 |  466
  10 |   19124.27 Hz |  141.0000 |  235
  11 |    7649.71 Hz |  141.0000 |   94
  12 |   24251.21 Hz |  139.0000 |  298
  13 |   38980.96 Hz |  138.0000 |  479
  14 |   33854.03 Hz |  138.0000 |  416
  15 |   39225.10 Hz |  137.0000 |  482


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 26.10
  Band average: 1.27
  Peak/Average ratio: 20.55

Band 40kHz (37-42 kHz):
  Peak: 39143.72 Hz (bin 481)
  Peak magnitude: 0.88
  Band average: 0.23
  Peak/Average ratio: 3.87

Noise baseline (5-15 kHz):
  Average: 0.31
  Max: 2.36

=== DECISION LOGIC ===
SNR 20kHz band: 84.53 (38.5 dB)
SNR 40kHz band: 2.84 (9.1 dB)

Signal detected at 20kHz: YES (SNR=84.53, Peak/Avg=20.55, Mag=26.10)
Signal detected at 40kHz: YES (SNR=2.84, Peak/Avg=3.87, Mag=0.88)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (606734) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=40899[0m
[0;32mI (606734) MAIN: MQTT message sent![0m
[0;32mI (607734) mqtts: MQTT_EVENT_PUBLISHED, msg_id=40899[0m
[0;32mI (613054) mqtts: MQTT_EVENT_DATA[0m
TOPIC=34B7DA543528/downlink
DATA={"frequency":0.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}
[0;32mI (613064) MAIN: === Message received in MAIN ===[0m
[0;32mI (613064) MAIN: Topic: 34B7DA543528/downlink[0m
[0;32mI (613074) MAIN: Data: {"frequency":0.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}[0m
[0;32mI (613084) MAIN: Expiry timer triggered! Schedule has expired![0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (613094) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (613104) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (613114) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (613134) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (613134) MAIN: Previous expiry timer deleted[0m
[0;32mI (613144) MAIN: Start timestamp is 0 or past, executing immediately[0m
[0;32mI (613154) MAIN: Timer triggered! Executing scheduled action...[0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (613164) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (613174) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (613184) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (613194) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (613204) MAIN: Expiry timer set for 0.13 hours (total 467 seconds from now)[0m
[0;32mI (613214) MAIN: status updated and timer started[0m
[0;32mI (616834) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (617654) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   21321.53 Hz |  197.0000 |  262
   2 |   40771.32 Hz |  159.0000 |  501
   3 |   33365.75 Hz |  155.0000 |  410
   4 |    8300.75 Hz |  143.0000 |  102
   5 |   23030.51 Hz |  143.0000 |  283
   6 |    6103.49 Hz |  143.0000 |   75
   7 |   35563.01 Hz |  142.0000 |  437
   8 |   15055.28 Hz |  142.0000 |  185
   9 |   13509.06 Hz |  141.0000 |  166
  10 |   29296.76 Hz |  141.0000 |  360
  11 |   33691.27 Hz |  140.0000 |  414
  12 |   39957.52 Hz |  140.0000 |  491
  13 |   29622.28 Hz |  138.0000 |  364
  14 |   20833.25 Hz |  137.0000 |  256
  15 |   26041.56 Hz |  137.0000 |  320


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21647.05 Hz (bin 266)
  Peak magnitude: 26.31
  Band average: 1.33
  Peak/Average ratio: 19.82

Band 40kHz (37-42 kHz):
  Peak: 38980.96 Hz (bin 479)
  Peak magnitude: 0.89
  Band average: 0.29
  Peak/Average ratio: 3.13

Noise baseline (5-15 kHz):
  Average: 0.34
  Max: 2.15

=== DECISION LOGIC ===
SNR 20kHz band: 77.84 (37.8 dB)
SNR 40kHz band: 2.64 (8.4 dB)

Signal detected at 20kHz: YES (SNR=77.84, Peak/Avg=19.82, Mag=26.31)
Signal detected at 40kHz: YES (SNR=2.64, Peak/Avg=3.13, Mag=0.89)

==> WARNING: Both frequencies detected!
    Selecting 20 kHz (stronger signal)
==============================

[0;32mI (617784) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=10491[0m
[0;32mI (617784) MAIN: MQTT message sent![0m
[0;32mI (618794) mqtts: MQTT_EVENT_PUBLISHED, msg_id=10491[0m
[0;32mI (627884) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (628704) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 20914.63 Hz (bin 257)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.55

Band 40kHz (37-42 kHz):
  Peak: 38167.16 Hz (bin 469)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 4.14

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.22 (-13.2 dB)
SNR 40kHz band: 0.22 (-13.0 dB)

Signal detected at 20kHz: NO (SNR=0.22, Peak/Avg=1.55, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.22, Peak/Avg=4.14, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (628834) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=65346[0m
[0;32mI (628844) MAIN: MQTT message sent![0m
[0;32mI (629234) mqtts: MQTT_EVENT_PUBLISHED, msg_id=65346[0m
[0;32mI (638944) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (639764) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 22623.61 Hz (bin 278)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.77

Band 40kHz (37-42 kHz):
  Peak: 38085.79 Hz (bin 468)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 3.09

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.21 (-13.6 dB)
SNR 40kHz band: 0.15 (-16.3 dB)

Signal detected at 20kHz: NO (SNR=0.21, Peak/Avg=1.77, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.15, Peak/Avg=3.09, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (639894) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=50852[0m
[0;32mI (639904) MAIN: MQTT message sent![0m
[0;32mI (640504) mqtts: MQTT_EVENT_PUBLISHED, msg_id=50852[0m
[0;32mI (650004) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (650824) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 19612.55 Hz (bin 241)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.52

Band 40kHz (37-42 kHz):
  Peak: 38085.79 Hz (bin 468)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.44

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.48 (-6.3 dB)
SNR 40kHz band: 0.31 (-10.2 dB)

Signal detected at 20kHz: NO (SNR=0.48, Peak/Avg=1.52, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.31, Peak/Avg=1.44, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (650954) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=48091[0m
[0;32mI (650964) MAIN: MQTT message sent![0m
[0;32mI (661064) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (661884) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 20833.25 Hz (bin 256)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.33

Band 40kHz (37-42 kHz):
  Peak: 38004.41 Hz (bin 467)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.21

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.59 (-4.6 dB)
SNR 40kHz band: 0.40 (-8.0 dB)

Signal detected at 20kHz: NO (SNR=0.59, Peak/Avg=1.33, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.40, Peak/Avg=1.21, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (662014) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=10290[0m
[0;32mI (662024) MAIN: MQTT message sent![0m
[0;32mI (672124) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;33mW (672734) transport_base: Poll timeout or error, errno=Connection already in progress, fd=54, timeout_ms=10000[0m
[0;31mE (672734) mqtt_client: Writing didn't complete in specified timeout: errno=119[0m
[0;31mE (672734) mqtt_client: Error to resend data [0m
[0;32mI (672744) mqtts: MQTT_EVENT_DISCONNECTED[0m
[0;32mI (672944) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 20833.25 Hz (bin 256)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.58

Band 40kHz (37-42 kHz):
  Peak: 38167.16 Hz (bin 469)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 4.08

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.31 (-10.0 dB)
SNR 40kHz band: 0.19 (-14.3 dB)

Signal detected at 20kHz: NO (SNR=0.31, Peak/Avg=1.58, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.19, Peak/Avg=4.08, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;33mW (673074) mqtts: Client not connected, message not sent[0m
[0;32mI (673084) MAIN: MQTT message sent![0m
[0;32mI (683184) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (684004) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 20914.63 Hz (bin 257)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.46

Band 40kHz (37-42 kHz):
  Peak: 38167.16 Hz (bin 469)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 4.17

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.24 (-12.5 dB)
SNR 40kHz band: 0.20 (-13.9 dB)

Signal detected at 20kHz: NO (SNR=0.24, Peak/Avg=1.46, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.20, Peak/Avg=4.17, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;33mW (684134) mqtts: Client not connected, message not sent[0m
[0;32mI (684144) MAIN: MQTT message sent![0m
[0;32mI (687744) mqtts: Other event id:7[0m
[0;32mI (692514) mqtts: MQTT_EVENT_CONNECTED[0m
[0;32mI (692524) mqtts: Subscribed to 34B7DA543528/downlink, msg_id=6160[0m
[0;32mI (692624) mqtts: MQTT_EVENT_SUBSCRIBED, msg_id=6160[0m
[0;32mI (694244) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (694564) mqtts: MQTT_EVENT_DATA[0m
TOPIC=34B7DA543528/downlink
DATA={"frequency":40.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}
[0;32mI (694574) MAIN: === Message received in MAIN ===[0m
[0;32mI (694574) MAIN: Topic: 34B7DA543528/downlink[0m
[0;32mI (694584) MAIN: Data: {"frequency":40.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}[0m
[0;32mI (694594) MAIN: Expiry timer triggered! Schedule has expired![0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (694604) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (694614) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (694624) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (694634) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (694644) MAIN: Previous expiry timer deleted[0m
[0;32mI (694654) MAIN: Start timestamp is 0 or past, executing immediately[0m
[0;32mI (694654) MAIN: Timer triggered! Executing scheduled action...[0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (694674) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (694684) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (694694) PWM: Cambio frequenza: 40000 -> 39300 Hz, risoluzione: 8 -> 8 bit[0m
[0;32mI (694694) PWM: Timer riconfigurato: 39300 Hz, 8 bit (256 livelli)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (694704) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
Imposto duty: 128 / 256 (risoluzione: 8 bit)
[0;32mI (694724) PWM: Hardware PWM duty: 50.00% richiesto -> 50.20% effettivo (128/256)[0m
Imposto duty: 8191 / 8192 (risoluzione: 13 bit)
[0;32mI (694734) PWM: Hardware PWM duty: 100.00% richiesto -> 100.00% effettivo (8191/8192)[0m
[0;32mI (694744) MAIN: Expiry timer set for 0.13 hours (total 467 seconds from now)[0m
[0;32mI (694744) MAIN: status updated and timer started[0m
[0;32mI (695064) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   22379.47 Hz |  118.0000 |  275
   2 |   39794.76 Hz |   86.0000 |  489
   3 |   22542.23 Hz |   81.0000 |  277
   4 |   17984.95 Hz |   79.0000 |  221
   5 |   38085.79 Hz |   77.0000 |  468
   6 |    6754.53 Hz |   76.0000 |   83
   7 |   32877.47 Hz |   74.0000 |  404
   8 |   38248.55 Hz |   73.0000 |  470
   9 |   22704.99 Hz |   72.0000 |  279
  10 |   13671.82 Hz |   72.0000 |  168
  11 |   17171.16 Hz |   71.0000 |  211
  12 |   30110.56 Hz |   69.0000 |  370
  13 |   15055.28 Hz |   69.0000 |  185
  14 |   29947.80 Hz |   69.0000 |  368
  15 |   32714.71 Hz |   69.0000 |  402


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 19287.03 Hz (bin 237)
  Peak magnitude: 1.19
  Band average: 0.20
  Peak/Average ratio: 6.01

Band 40kHz (37-42 kHz):
  Peak: 39143.72 Hz (bin 481)
  Peak magnitude: 10.51
  Band average: 0.95
  Peak/Average ratio: 11.06

Noise baseline (5-15 kHz):
  Average: 0.21
  Max: 1.86

=== DECISION LOGIC ===
SNR 20kHz band: 5.70 (15.1 dB)
SNR 40kHz band: 50.39 (34.0 dB)

Signal detected at 20kHz: YES (SNR=5.70, Peak/Avg=6.01, Mag=1.19)
Signal detected at 40kHz: YES (SNR=50.39, Peak/Avg=11.06, Mag=10.51)

==> WARNING: Both frequencies detected!
    Selecting 40 kHz (stronger signal)
==============================

[0;32mI (695204) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=27438[0m
[0;32mI (695204) MAIN: MQTT message sent![0m
[0;32mI (695994) mqtts: MQTT_EVENT_PUBLISHED, msg_id=27438[0m
[0;32mI (705314) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (706134) Temperature sensor: Slot 0: 20.81 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   19368.41 Hz |   14.0000 |  238
   2 |   35807.15 Hz |    9.0000 |  440
   3 |   28971.24 Hz |    0.0000 |  356
   4 |   30029.18 Hz |    0.0000 |  369
   5 |   29947.80 Hz |    0.0000 |  368
   6 |   29866.42 Hz |    0.0000 |  367
   7 |   29785.04 Hz |    0.0000 |  366
   8 |   29703.66 Hz |    0.0000 |  365
   9 |   29622.28 Hz |    0.0000 |  364
  10 |   29540.90 Hz |    0.0000 |  363
  11 |   29459.52 Hz |    0.0000 |  362
  12 |   29378.14 Hz |    0.0000 |  361
  13 |   29296.76 Hz |    0.0000 |  360
  14 |   29215.38 Hz |    0.0000 |  359
  15 |   29134.00 Hz |    0.0000 |  358


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 20182.21 Hz (bin 248)
  Peak magnitude: 0.03
  Band average: 0.01
  Peak/Average ratio: 1.94

Band 40kHz (37-42 kHz):
  Peak: 38818.20 Hz (bin 477)
  Peak magnitude: 0.02
  Band average: 0.01
  Peak/Average ratio: 1.96

Noise baseline (5-15 kHz):
  Average: 0.01
  Max: 0.03

=== DECISION LOGIC ===
SNR 20kHz band: 1.95 (5.8 dB)
SNR 40kHz band: 1.90 (5.6 dB)

Signal detected at 20kHz: NO (SNR=1.95, Peak/Avg=1.94, Mag=0.03)
Signal detected at 40kHz: NO (SNR=1.90, Peak/Avg=1.96, Mag=0.02)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (706264) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=62290[0m
[0;32mI (706274) MAIN: MQTT message sent![0m
[0;32mI (707264) mqtts: MQTT_EVENT_PUBLISHED, msg_id=62290[0m
[0;32mI (716374) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (717194) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 20100.83 Hz (bin 247)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.59

Band 40kHz (37-42 kHz):
  Peak: 40364.42 Hz (bin 496)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.08

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.64 (-3.9 dB)
SNR 40kHz band: 7.07 (17.0 dB)

Signal detected at 20kHz: NO (SNR=0.64, Peak/Avg=1.59, Mag=0.00)
Signal detected at 40kHz: NO (SNR=7.07, Peak/Avg=1.08, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (717324) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=61536[0m
[0;32mI (717334) MAIN: MQTT message sent![0m
[0;32mI (717504) mqtts: MQTT_EVENT_PUBLISHED, msg_id=61536[0m
[0;32mI (727434) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (728254) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   41585.12 Hz |   18.0000 |  511
   2 |   23681.55 Hz |    2.0000 |  291
   3 |   30110.56 Hz |    0.0000 |  370
   4 |   27994.68 Hz |    0.0000 |  344
   5 |   30029.18 Hz |    0.0000 |  369
   6 |   29947.80 Hz |    0.0000 |  368
   7 |   29866.42 Hz |    0.0000 |  367
   8 |   29785.04 Hz |    0.0000 |  366
   9 |   29703.66 Hz |    0.0000 |  365
  10 |   29622.28 Hz |    0.0000 |  364
  11 |   29540.90 Hz |    0.0000 |  363
  12 |   29459.52 Hz |    0.0000 |  362
  13 |   29378.14 Hz |    0.0000 |  361
  14 |   29296.76 Hz |    0.0000 |  360
  15 |   29215.38 Hz |    0.0000 |  359


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 20833.25 Hz (bin 256)
  Peak magnitude: 0.03
  Band average: 0.02
  Peak/Average ratio: 1.44

Band 40kHz (37-42 kHz):
  Peak: 38980.96 Hz (bin 479)
  Peak magnitude: 0.03
  Band average: 0.02
  Peak/Average ratio: 1.47

Noise baseline (5-15 kHz):
  Average: 0.02
  Max: 0.03

=== DECISION LOGIC ===
SNR 20kHz band: 1.43 (3.1 dB)
SNR 40kHz band: 1.45 (3.2 dB)

Signal detected at 20kHz: NO (SNR=1.43, Peak/Avg=1.44, Mag=0.03)
Signal detected at 40kHz: NO (SNR=1.45, Peak/Avg=1.47, Mag=0.03)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (728384) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=1057[0m
[0;32mI (728394) MAIN: MQTT message sent![0m
[0;32mI (728764) mqtts: MQTT_EVENT_PUBLISHED, msg_id=1057[0m
[0;32mI (738494) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (739314) Temperature sensor: Slot 0: 20.75 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 21484.29 Hz (bin 264)
  Peak magnitude: 0.01
  Band average: 0.01
  Peak/Average ratio: 1.02

Band 40kHz (37-42 kHz):
  Peak: 39062.34 Hz (bin 480)
  Peak magnitude: 0.02
  Band average: 0.01
  Peak/Average ratio: 1.14

Noise baseline (5-15 kHz):
  Average: 0.01
  Max: 0.01

=== DECISION LOGIC ===
SNR 20kHz band: 1.02 (0.2 dB)
SNR 40kHz band: 1.14 (1.1 dB)

Signal detected at 20kHz: NO (SNR=1.02, Peak/Avg=1.02, Mag=0.01)
Signal detected at 40kHz: NO (SNR=1.14, Peak/Avg=1.14, Mag=0.02)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (739444) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=24734[0m
[0;32mI (739454) MAIN: MQTT message sent![0m
[0;32mI (740034) mqtts: MQTT_EVENT_PUBLISHED, msg_id=24734[0m
[0;32mI (744944) mqtts: MQTT_EVENT_DATA[0m
TOPIC=34B7DA543528/downlink
DATA={"frequency":0.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}
[0;32mI (744954) MAIN: === Message received in MAIN ===[0m
[0;32mI (744954) MAIN: Topic: 34B7DA543528/downlink[0m
[0;32mI (744964) MAIN: Data: {"frequency":0.0,"duty_frequency":100.0,"temperature":17.5,"finish_after":0.13,"startTime":null}[0m
[0;32mI (744974) MAIN: Expiry timer triggered! Schedule has expired![0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (744984) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (744994) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (745004) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (745014) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (745024) MAIN: Previous expiry timer deleted[0m
[0;32mI (745034) MAIN: Start timestamp is 0 or past, executing immediately[0m
[0;32mI (745034) MAIN: Timer triggered! Executing scheduled action...[0m
Imposto duty: 0 / 512 (risoluzione: 9 bit)
[0;32mI (745044) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/512)[0m
Imposto duty: 0 / 256 (risoluzione: 8 bit)
[0;32mI (745064) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/256)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (745074) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
Imposto duty: 0 / 8192 (risoluzione: 13 bit)
[0;32mI (745084) PWM: Hardware PWM duty: 0.00% richiesto -> 0.00% effettivo (0/8192)[0m
[0;32mI (745094) MAIN: Expiry timer set for 0.13 hours (total 467 seconds from now)[0m
[0;32mI (745104) MAIN: status updated and timer started[0m
[0;32mI (749554) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (750374) Temperature sensor: Slot 0: 20.81 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 18961.51 Hz (bin 233)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 2.60

Band 40kHz (37-42 kHz):
  Peak: 38167.16 Hz (bin 469)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 2.08

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.37 (-8.8 dB)
SNR 40kHz band: 0.30 (-10.4 dB)

Signal detected at 20kHz: NO (SNR=0.37, Peak/Avg=2.60, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.30, Peak/Avg=2.08, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (750504) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=62924[0m
[0;32mI (750514) MAIN: MQTT message sent![0m
[0;32mI (751294) mqtts: MQTT_EVENT_PUBLISHED, msg_id=62924[0m
[0;32mI (760614) Temperature sensor: Trovati 0 nuovi (totale 1)[0m
[0;32mI (761434) Temperature sensor: Slot 0: 20.81 Â°C[0m

=== TOP 15 FREQUENZE ===
Rank | Frequency (Hz) | Magnitude | Bin
-----|----------------|-----------|-----
   1 |   28971.24 Hz |    0.0000 |  356
   2 |   30110.56 Hz |    0.0000 |  370
   3 |   30029.18 Hz |    0.0000 |  369
   4 |   29947.80 Hz |    0.0000 |  368
   5 |   29866.42 Hz |    0.0000 |  367
   6 |   29785.04 Hz |    0.0000 |  366
   7 |   29703.66 Hz |    0.0000 |  365
   8 |   29622.28 Hz |    0.0000 |  364
   9 |   29540.90 Hz |    0.0000 |  363
  10 |   29459.52 Hz |    0.0000 |  362
  11 |   29378.14 Hz |    0.0000 |  361
  12 |   29296.76 Hz |    0.0000 |  360
  13 |   29215.38 Hz |    0.0000 |  359
  14 |   29134.00 Hz |    0.0000 |  358
  15 |   29052.62 Hz |    0.0000 |  357


Applying notch filter at bin 509 (41-42 kHz)

=== FREQUENCY BAND ANALYSIS ===
Band 20kHz (19-23 kHz):
  Peak: 22867.75 Hz (bin 281)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 1.58

Band 40kHz (37-42 kHz):
  Peak: 38167.16 Hz (bin 469)
  Peak magnitude: 0.00
  Band average: 0.00
  Peak/Average ratio: 2.39

Noise baseline (5-15 kHz):
  Average: 0.00
  Max: 0.00

=== DECISION LOGIC ===
SNR 20kHz band: 0.28 (-11.2 dB)
SNR 40kHz band: 0.25 (-12.0 dB)

Signal detected at 20kHz: NO (SNR=0.28, Peak/Avg=1.58, Mag=0.00)
Signal detected at 40kHz: NO (SNR=0.25, Peak/Avg=2.39, Mag=0.00)

==> NO VIBRATION DETECTED (0 Hz)
==============================

[0;32mI (761564) mqtts: Enqueued to 34B7DA543528/uplink, msg_id=13045[0m
[0;32mI (761574) MAIN: MQTT message sent![0m
[0;32mI (761744) mqtts: MQTT_EVENT_PUBLISHED, msg_id=13045[0m
